2025-08-11 11:20:31.426 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-11 11:20:31.917 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-11 11:20:31.995 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-11 11:20:36.052 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-11 11:20:38.114 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-11 11:20:39.880 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-11 11:20:39.882 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-11 11:20:39.884 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-11 11:20:39.885 +05:30 [INF] Hosting environment: Development
2025-08-11 11:20:39.887 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-11 11:20:42.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-11 11:20:42.732 +05:30 [INF] Executed DbCommand (381ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-11 11:20:42.732 +05:30 [INF] Executed DbCommand (376ms) [Parameters=[@__cutoff_0='2025-08-04T05:50:33.6500418Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-11 11:20:42.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 616.777ms
2025-08-11 11:20:43.138 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-11 11:20:43.139 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-11 11:20:43.155 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.6035ms
2025-08-11 11:20:43.235 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.5022ms
2025-08-11 11:20:43.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-11 11:20:43.908 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 444.8535ms
2025-08-11 11:20:56.422 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/debug/cors - null null
2025-08-11 11:20:56.429 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-11 11:20:56.758 +05:30 [INF] Executing endpoint 'HTTP: GET /api/debug/cors'
2025-08-11 11:20:56.785 +05:30 [INF] Setting HTTP status code 200.
2025-08-11 11:20:56.795 +05:30 [INF] Writing value of type '<>f__AnonymousType128`1' as Json.
2025-08-11 11:20:56.804 +05:30 [INF] Executed endpoint 'HTTP: GET /api/debug/cors'
2025-08-11 11:20:56.806 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/debug/cors - 200 null application/json; charset=utf-8 383.8658ms
2025-08-11 11:21:10.080 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/debug/db - null null
2025-08-11 11:21:10.100 +05:30 [INF] Executing endpoint 'HTTP: GET /api/debug/db'
2025-08-11 11:21:10.204 +05:30 [INF] Setting HTTP status code 200.
2025-08-11 11:21:10.206 +05:30 [INF] Writing value of type 'String' as Json.
2025-08-11 11:21:10.208 +05:30 [INF] Executed endpoint 'HTTP: GET /api/debug/db'
2025-08-11 11:21:10.215 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/debug/db - 200 null application/json; charset=utf-8 134.7778ms
2025-08-11 11:21:19.835 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/debug/conn - null null
2025-08-11 11:21:19.846 +05:30 [INF] Executing endpoint 'HTTP: GET /api/debug/conn'
2025-08-11 11:21:19.849 +05:30 [INF] Setting HTTP status code 200.
2025-08-11 11:21:19.857 +05:30 [INF] Writing value of type '<>f__AnonymousType129`6' as Json.
2025-08-11 11:21:19.862 +05:30 [INF] Executed endpoint 'HTTP: GET /api/debug/conn'
2025-08-11 11:21:19.864 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/debug/conn - 200 null application/json; charset=utf-8 28.9543ms
2025-08-11 11:21:42.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.37b0db31423109b6cc2c.hot-update.json - null null
2025-08-11 11:21:42.848 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.37b0db31423109b6cc2c.hot-update.json - 404 0 null 23.259ms
2025-08-11 11:21:42.852 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.37b0db31423109b6cc2c.hot-update.json, Response status code: 404
2025-08-11 11:21:52.608 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 11:21:52.634 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:21:52.640 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 32.8687ms
2025-08-11 11:21:52.645 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 11:21:52.652 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:21:52.654 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 11:21:52.690 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 11:21:52.742 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 11:21:53.246 +05:30 [INF] Executed DbCommand (372ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 11:21:53.760 +05:30 [INF] Executed DbCommand (343ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 11:21:54.166 +05:30 [INF] Executed DbCommand (377ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 11:21:54.681 +05:30 [INF] Executed DbCommand (454ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 11:21:54.713 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 11:21:54.848 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 11:21:54.860 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 11:21:54.871 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 2173.9751ms
2025-08-11 11:21:54.875 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 11:21:54.878 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 2232.1964ms
2025-08-11 11:21:54.884 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:21:54.888 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:21:54.889 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.5648ms
2025-08-11 11:21:54.896 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:21:54.902 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:21:54.970 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:21:54.976 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 11:21:55.309 +05:30 [INF] Executed DbCommand (307ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 11:21:55.314 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 11:21:55.323 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 343.9396ms
2025-08-11 11:21:55.325 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:21:55.327 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 431.2894ms
2025-08-11 11:22:26.418 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:26.421 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:26.423 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 4.8114ms
2025-08-11 11:22:26.436 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:26.440 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:26.445 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:26.448 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 11:22:26.751 +05:30 [INF] Executed DbCommand (298ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 11:22:26.755 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 11:22:26.758 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 308.0446ms
2025-08-11 11:22:26.760 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:26.762 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 325.8225ms
2025-08-11 11:22:32.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 11:22:32.922 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:32.924 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 6.7495ms
2025-08-11 11:22:32.928 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 11:22:32.933 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:32.934 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 11:22:32.937 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 11:22:32.944 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 11:22:33.284 +05:30 [INF] Executed DbCommand (337ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 11:22:33.592 +05:30 [INF] Executed DbCommand (303ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 11:22:33.915 +05:30 [INF] Executed DbCommand (317ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 11:22:34.309 +05:30 [INF] Executed DbCommand (389ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 11:22:34.315 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 11:22:34.316 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 11:22:34.320 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 11:22:34.322 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 1382.3199ms
2025-08-11 11:22:34.324 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 11:22:34.326 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1397.2931ms
2025-08-11 11:22:34.331 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:34.338 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:34.339 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.1346ms
2025-08-11 11:22:34.344 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:34.347 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:34.352 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:34.354 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 11:22:34.718 +05:30 [INF] Executed DbCommand (359ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 11:22:34.722 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 11:22:34.724 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 367.5175ms
2025-08-11 11:22:34.726 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:34.728 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 384.5635ms
2025-08-11 11:22:47.350 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:47.355 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:47.357 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 7.1146ms
2025-08-11 11:22:47.363 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:47.367 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:47.369 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:47.371 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 11:22:47.689 +05:30 [INF] Executed DbCommand (312ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 11:22:47.694 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 11:22:47.696 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 321.0355ms
2025-08-11 11:22:47.698 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:47.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 335.8854ms
2025-08-11 11:22:50.055 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 11:22:50.062 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:22:50.064 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:50.066 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 11:22:50.384 +05:30 [INF] Executed DbCommand (314ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 11:22:50.387 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 11:22:50.389 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 320.2205ms
2025-08-11 11:22:50.391 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 11:22:50.392 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 338.0579ms
2025-08-11 11:27:27.365 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/failed-webhooks - null null
2025-08-11 11:27:27.380 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:27:27.382 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/failed-webhooks - 204 null null 16.77ms
2025-08-11 11:27:27.389 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/failed-webhooks - null null
2025-08-11 11:27:27.393 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:27:27.395 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api)'
2025-08-11 11:27:27.402 +05:30 [INF] Route matched with {action = "GetAll", controller = "FailedWebhookLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync() on controller xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController (xbytechat.api).
2025-08-11 11:27:29.522 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/settings - null null
2025-08-11 11:27:29.538 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/failed/count - null null
2025-08-11 11:27:29.538 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:27:29.543 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/settings - 204 null null 20.9532ms
2025-08-11 11:27:29.544 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:27:29.548 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/webhooks/settings - null null
2025-08-11 11:27:29.550 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/failed/count - 204 null null 12.4172ms
2025-08-11 11:27:29.553 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:27:29.559 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/webhooks/failed/count - null null
2025-08-11 11:27:29.560 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api)'
2025-08-11 11:27:29.565 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:27:29.567 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api)'
2025-08-11 11:27:29.571 +05:30 [INF] Route matched with {action = "GetCleanupStatus", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCleanupStatus() on controller xbytechat.api.Features.Webhooks.Controllers.MaintenanceController (xbytechat.api).
2025-08-11 11:27:29.573 +05:30 [INF] Route matched with {action = "GetFailedCount", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFailedCount() on controller xbytechat.api.Features.Webhooks.Controllers.MaintenanceController (xbytechat.api).
2025-08-11 11:27:29.950 +05:30 [INF] Executed DbCommand (331ms) [Parameters=[@__p_0='100'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
ORDER BY f."CreatedAt" DESC
LIMIT @__p_0
2025-08-11 11:27:29.954 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.Webhooks.Models.FailedWebhookLog, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-11 11:27:29.989 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api) in 2584.3997ms
2025-08-11 11:27:29.992 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api)'
2025-08-11 11:27:29.993 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/failed-webhooks - 200 null application/json; charset=utf-8 2604.6592ms
2025-08-11 11:27:32.090 +05:30 [INF] Executed DbCommand (408ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "FailedWebhookLogs" AS f
2025-08-11 11:27:32.090 +05:30 [INF] Executed DbCommand (403ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-11 11:27:32.103 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-08-11 11:27:32.107 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-11 11:27:32.108 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api) in 2532.1009ms
2025-08-11 11:27:32.116 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api)'
2025-08-11 11:27:32.121 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/webhooks/failed/count - 200 null application/json; charset=utf-8 2562.3427ms
2025-08-11 11:27:32.500 +05:30 [INF] Executed DbCommand (382ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-11 11:27:32.526 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType69`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 11:27:32.538 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api) in 2964.5085ms
2025-08-11 11:27:32.540 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api)'
2025-08-11 11:27:32.542 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/webhooks/settings - 200 null application/json; charset=utf-8 2994.1543ms
2025-08-11 11:46:01.730 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/business-user-signup - null null
2025-08-11 11:46:01.743 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:46:01.745 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/business-user-signup - 204 null null 14.6204ms
2025-08-11 11:46:01.755 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/business-user-signup - application/json 89
2025-08-11 11:46:01.760 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:46:01.762 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Signup (xbytechat.api)'
2025-08-11 11:46:01.768 +05:30 [INF] Route matched with {action = "Signup", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Signup(xbytechat.api.Features.BusinessModule.DTOs.SignupBusinessDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 11:46:01.799 +05:30 [INF] 🟢 Signup attempt: ratan@tcs.com
2025-08-11 11:46:04.377 +05:30 [INF] Executed DbCommand (408ms) [Parameters=[@__normalizedEmail_0='ratan@tcs.com'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status"
FROM "Users" AS u
WHERE u."Email" = @__normalizedEmail_0
LIMIT 1
2025-08-11 11:46:05.094 +05:30 [INF] Executed DbCommand (416ms) [Parameters=[@p0='5d97b47a-e8f1-49c8-824f-5261231ef9fd', @p1=NULL, @p2=NULL (DbType = DateTime), @p3=NULL, @p4='ratan@tcs.com' (Nullable = false), @p5='Tata Consultancy Services' (Nullable = false), @p6='Tata Consultancy Services', @p7=NULL, @p8='2025-08-11T06:16:04.3822741Z' (DbType = DateTime), @p9=NULL, @p10=NULL (DbType = Guid), @p11=NULL (DbType = DateTime), @p12=NULL, @p13=NULL, @p14='False', @p15='False', @p16=NULL (DbType = DateTime), @p17=NULL, @p18=NULL, @p19=NULL, @p20=NULL, @p21=NULL, @p22='0', @p23=NULL, @p24=NULL, @p25='cbe621da-441c-47cd-9d55-9b479607b740', @p26='5d97b47a-e8f1-49c8-824f-5261231ef9fd', @p27='2025-08-11T06:16:04.3827565Z' (DbType = DateTime), @p28='0', @p29='2025-09-11T06:16:04.3832072Z' (DbType = DateTime), @p30='1000', @p31='1000', @p32='2025-08-11T06:16:04.3827567Z' (DbType = DateTime), @p33='0'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Businesses" ("Id", "Address", "ApprovedAt", "ApprovedBy", "BusinessEmail", "BusinessName", "CompanyName", "CompanyPhone", "CreatedAt", "CreatedBy", "CreatedByPartnerId", "DeletedAt", "DeletedBy", "Industry", "IsApproved", "IsDeleted", "LastLoginAt", "LogoUrl", "Notes", "Phone", "RepresentativeName", "Source", "Status", "Tags", "Website")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "BusinessPlanInfos" ("Id", "BusinessId", "CreatedAt", "Plan", "QuotaResetDate", "RemainingMessages", "TotalMonthlyQuota", "UpdatedAt", "WalletBalance")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33);
2025-08-11 11:46:05.913 +05:30 [INF] Executed DbCommand (357ms) [Parameters=[@__ToLower_0='business'], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Roles" AS r
WHERE lower(r."Name") = @__ToLower_0
LIMIT 1
2025-08-11 11:46:06.323 +05:30 [INF] Executed DbCommand (372ms) [Parameters=[@p0='e062cf85-a63e-4380-8c1b-be3e961e26d4', @p1='5d97b47a-e8f1-49c8-824f-5261231ef9fd' (Nullable = true), @p2='2025-08-11T06:16:05.9170267Z' (DbType = DateTime), @p3=NULL (DbType = DateTime), @p4='ratan@tcs.com' (Nullable = false), @p5='False', @p6='Tata Consultancy Services' (Nullable = false), @p7='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk=' (Nullable = false), @p8=NULL, @p9=NULL (DbType = DateTime), @p10='00000000-0000-0000-0000-000000000004' (Nullable = true), @p11='Pending' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "BusinessId", "CreatedAt", "DeletedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiry", "RoleId", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-08-11 11:46:06.735 +05:30 [INF] Executed DbCommand (369ms) [Parameters=[@__ToLower_0='ratan@tcs.com'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website"
FROM "Businesses" AS b
WHERE lower(b."BusinessEmail") = @__ToLower_0
LIMIT 1
2025-08-11 11:46:06.739 +05:30 [INF] ✅ Signup successful for ratan@tcs.com (BusinessId: "5d97b47a-e8f1-49c8-824f-5261231ef9fd")
2025-08-11 11:46:06.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 11:46:06.771 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Signup (xbytechat.api) in 4999.4362ms
2025-08-11 11:46:06.773 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Signup (xbytechat.api)'
2025-08-11 11:46:06.774 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/business-user-signup - 200 null application/json; charset=utf-8 5019.6558ms
2025-08-11 11:46:45.697 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 11:46:45.702 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:46:45.705 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 8.3539ms
2025-08-11 11:46:45.718 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 44
2025-08-11 11:46:45.723 +05:30 [INF] CORS policy execution successful.
2025-08-11 11:46:45.725 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 11:46:45.727 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 11:46:45.731 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-11 11:46:46.054 +05:30 [INF] Executed DbCommand (320ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='jGl25bVBBBW96Qi9Te4V37Fnqchz/Eu4qB9vKrRIqRg='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 11:46:46.057 +05:30 [WRN] ❌ Login failed: Invalid email or password for ratan@tcs.com
2025-08-11 11:46:46.077 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 11:46:46.081 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 351.6481ms
2025-08-11 11:46:46.084 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 11:46:46.085 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 401 null application/json; charset=utf-8 367.6532ms
2025-08-11 12:08:26.792 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 12:08:26.801 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:08:26.802 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 10.8677ms
2025-08-11 12:08:26.815 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 12:08:26.820 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:08:26.821 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 12:08:26.822 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 12:08:26.827 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 12:08:29.791 +05:30 [INF] Executed DbCommand (422ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 12:08:30.239 +05:30 [INF] Executed DbCommand (442ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 12:08:30.551 +05:30 [INF] Executed DbCommand (307ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 12:08:30.959 +05:30 [INF] Executed DbCommand (404ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 12:08:30.963 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 12:08:30.965 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 12:08:30.967 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 12:08:30.969 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 4144.0423ms
2025-08-11 12:08:30.971 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 12:08:30.973 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 4157.1445ms
2025-08-11 12:08:30.984 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 12:08:30.995 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:08:30.996 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 11.8172ms
2025-08-11 12:08:31.004 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 12:08:31.009 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:08:31.012 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 12:08:31.014 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 12:08:31.340 +05:30 [INF] Executed DbCommand (321ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 12:08:31.344 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 12:08:31.346 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 329.1622ms
2025-08-11 12:08:31.349 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 12:08:31.350 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 346.5146ms
2025-08-11 12:52:33.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 12:52:33.359 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:52:33.361 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 12.6642ms
2025-08-11 12:52:33.376 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 12:52:33.380 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:52:33.383 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 12:52:33.388 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 12:52:35.985 +05:30 [INF] Executed DbCommand (410ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 12:52:35.991 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 12:52:35.995 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 2602.4709ms
2025-08-11 12:52:35.998 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 12:52:36.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 2624.2405ms
2025-08-11 12:52:47.119 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 12:52:47.134 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:52:47.136 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 16.9863ms
2025-08-11 12:52:47.142 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 12:52:47.148 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:52:47.151 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 12:52:47.153 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 12:52:47.158 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 12:52:47.479 +05:30 [INF] Executed DbCommand (318ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 12:52:47.873 +05:30 [INF] Executed DbCommand (389ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 12:52:48.372 +05:30 [INF] Executed DbCommand (492ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 12:52:48.785 +05:30 [INF] Executed DbCommand (401ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 12:52:48.789 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 12:52:48.792 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 12:52:48.795 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 12:52:48.798 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 1641.4188ms
2025-08-11 12:52:48.801 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 12:52:48.803 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1661.4622ms
2025-08-11 12:52:48.811 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 12:52:48.816 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:52:48.818 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.8125ms
2025-08-11 12:52:48.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 12:52:48.832 +05:30 [INF] CORS policy execution successful.
2025-08-11 12:52:48.835 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 12:52:48.838 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 12:52:49.149 +05:30 [INF] Executed DbCommand (304ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 12:52:49.154 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 12:52:49.157 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 315.6507ms
2025-08-11 12:52:49.160 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 12:52:49.162 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 336.9858ms
2025-08-11 13:01:11.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:01:11.906 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:01:11.908 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.1752ms
2025-08-11 13:01:11.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:01:11.929 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:01:11.932 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:01:11.935 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:01:14.648 +05:30 [INF] Executed DbCommand (405ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:01:14.653 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:01:14.656 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 2717.3702ms
2025-08-11 13:01:14.659 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:01:14.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 2737.2372ms
2025-08-11 13:01:26.697 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 13:01:26.707 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:01:26.709 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 11.5772ms
2025-08-11 13:01:26.718 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 13:01:26.724 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:01:26.726 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:01:26.731 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 13:01:26.737 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 13:01:27.141 +05:30 [INF] Executed DbCommand (401ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 13:01:27.557 +05:30 [INF] Executed DbCommand (410ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 13:01:27.960 +05:30 [INF] Executed DbCommand (396ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 13:01:28.370 +05:30 [INF] Executed DbCommand (404ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 13:01:28.376 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 13:01:28.378 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 13:01:28.381 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 13:01:28.384 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 1649.3622ms
2025-08-11 13:01:28.387 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:01:28.389 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1670.701ms
2025-08-11 13:01:28.399 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:01:28.405 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:01:28.406 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.827ms
2025-08-11 13:01:28.416 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:01:28.422 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:01:28.424 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:01:28.428 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:01:28.779 +05:30 [INF] Executed DbCommand (346ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:01:28.784 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:01:28.786 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 355.4438ms
2025-08-11 13:01:28.789 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:01:28.791 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 374.8191ms
2025-08-11 13:03:30.549 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:03:30.564 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:03:30.567 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 17.4394ms
2025-08-11 13:03:30.584 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:03:30.588 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:03:30.590 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:03:30.592 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:03:30.911 +05:30 [INF] Executed DbCommand (313ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:03:30.917 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:03:30.920 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 324.2898ms
2025-08-11 13:03:30.924 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:03:30.926 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 342.2091ms
2025-08-11 13:03:37.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 13:03:37.353 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:03:37.355 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.1374ms
2025-08-11 13:03:37.365 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 13:03:37.370 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:03:37.374 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:03:37.377 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 13:03:37.382 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 13:03:37.751 +05:30 [INF] Executed DbCommand (365ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 13:03:38.085 +05:30 [INF] Executed DbCommand (327ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 13:03:38.419 +05:30 [INF] Executed DbCommand (328ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 13:03:38.830 +05:30 [INF] Executed DbCommand (402ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 13:03:38.836 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 13:03:38.838 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 13:03:38.844 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 13:03:38.847 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 1466.5239ms
2025-08-11 13:03:38.850 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:03:38.852 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1487.0868ms
2025-08-11 13:03:38.865 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:03:38.870 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:03:38.872 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 7.8515ms
2025-08-11 13:03:38.878 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:03:38.883 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:03:38.885 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:03:38.888 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:03:39.186 +05:30 [INF] Executed DbCommand (292ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:03:39.193 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:03:39.196 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 303.306ms
2025-08-11 13:03:39.199 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:03:39.201 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 322.9024ms
2025-08-11 13:25:55.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:25:55.876 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:25:55.877 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 15.2441ms
2025-08-11 13:25:55.885 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:25:55.891 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:25:55.894 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:25:55.897 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:26:01.210 +05:30 [INF] Executed DbCommand (412ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:26:01.217 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:26:01.220 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 5318.3929ms
2025-08-11 13:26:01.223 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:26:01.225 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 5339.2221ms
2025-08-11 13:26:10.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 13:26:10.989 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:26:10.991 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 11.9971ms
2025-08-11 13:26:10.999 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 13:26:11.004 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:26:11.008 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:26:11.010 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 13:26:11.016 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 13:26:11.450 +05:30 [INF] Executed DbCommand (432ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 13:26:12.425 +05:30 [INF] Executed DbCommand (969ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 13:26:12.884 +05:30 [INF] Executed DbCommand (454ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 13:26:13.198 +05:30 [INF] Executed DbCommand (309ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 13:26:13.202 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 13:26:13.204 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 13:26:13.207 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 13:26:13.209 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 2195.3447ms
2025-08-11 13:26:13.212 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:26:13.214 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 2215.3048ms
2025-08-11 13:26:13.228 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:26:13.233 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:26:13.235 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 7.08ms
2025-08-11 13:26:13.245 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:26:13.250 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:26:13.252 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:26:13.256 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:26:13.566 +05:30 [INF] Executed DbCommand (306ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:26:13.571 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:26:13.574 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 315.0698ms
2025-08-11 13:26:13.577 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:26:13.579 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 333.7598ms
2025-08-11 13:28:24.814 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-11 13:28:24.889 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-11 13:28:24.917 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-11 13:28:26.443 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-11 13:28:27.430 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-11 13:28:27.757 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-11 13:28:27.759 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-11 13:28:27.763 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-11 13:28:27.765 +05:30 [INF] Hosting environment: Development
2025-08-11 13:28:27.768 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-11 13:28:27.787 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-11 13:28:27.809 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__cutoff_0='2025-08-04T07:58:25.1190856Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-11 13:28:28.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-11 13:28:29.104 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 347.0039ms
2025-08-11 13:28:29.136 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-11 13:28:29.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 31.0357ms
2025-08-11 13:28:29.282 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-11 13:28:29.347 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.7768ms
2025-08-11 13:28:29.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-11 13:28:30.118 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 452.7969ms
2025-08-11 13:28:35.351 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:28:35.363 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-11 13:28:35.440 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:28:35.447 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 95.7276ms
2025-08-11 13:28:35.454 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:28:35.471 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:28:35.718 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:28:35.740 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:28:35.919 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:28:35.942 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:28:35.971 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 220.9277ms
2025-08-11 13:28:35.976 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:28:35.987 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 532.922ms
2025-08-11 13:28:40.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 13:28:40.840 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:28:40.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 10.9301ms
2025-08-11 13:28:40.850 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 13:28:40.859 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:28:40.865 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:28:40.889 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 13:28:40.943 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 13:28:41.063 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 13:28:41.265 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 13:28:41.324 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='62858aa2-3a54-4fd5-8696-c343d9af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 13:28:41.502 +05:30 [INF] Executed DbCommand (106ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000002', '30000000-0000-0000-0000-000000000006', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 13:28:41.550 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 13:28:41.563 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, Plan: superadmin
2025-08-11 13:28:41.570 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 13:28:41.576 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 683.7125ms
2025-08-11 13:28:41.579 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:28:41.582 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 731.8974ms
2025-08-11 13:30:48.813 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-11 13:30:48.894 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-11 13:30:48.920 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-11 13:30:50.409 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-11 13:30:51.389 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-11 13:30:51.650 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-11 13:30:51.654 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-11 13:30:51.656 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-11 13:30:51.657 +05:30 [INF] Hosting environment: Development
2025-08-11 13:30:51.659 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-11 13:30:52.777 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-11 13:30:53.040 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 273.4702ms
2025-08-11 13:30:53.071 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-11 13:30:53.091 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 20.964ms
2025-08-11 13:30:53.203 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-11 13:30:53.266 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.5089ms
2025-08-11 13:30:53.572 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-11 13:30:53.942 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 369.8733ms
2025-08-11 13:30:57.689 +05:30 [INF] Executed DbCommand (496ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-11 13:30:57.689 +05:30 [INF] Executed DbCommand (491ms) [Parameters=[@__cutoff_0='2025-08-04T08:00:49.1306798Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-11 13:31:11.470 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 13:31:11.479 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-11 13:31:11.563 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:31:11.570 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 99.9773ms
2025-08-11 13:31:11.577 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 13:31:11.600 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:31:11.815 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:31:11.846 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 13:31:11.979 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 13:31:12.988 +05:30 [INF] Executed DbCommand (882ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 13:31:13.542 +05:30 [INF] Executed DbCommand (380ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 13:31:13.944 +05:30 [INF] Executed DbCommand (369ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 13:31:14.996 +05:30 [INF] Executed DbCommand (992ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 13:31:15.045 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 13:31:15.055 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 13:31:15.070 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 13:31:15.088 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 3231.894ms
2025-08-11 13:31:15.091 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:31:15.103 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 3525.3881ms
2025-08-11 13:31:15.112 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:31:15.120 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:31:15.122 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 9.8894ms
2025-08-11 13:31:15.130 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:31:15.136 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:31:15.150 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:31:15.159 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:31:15.529 +05:30 [INF] Executed DbCommand (329ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:31:15.535 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:31:15.548 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 383.996ms
2025-08-11 13:31:15.552 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:31:15.554 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 424.3365ms
2025-08-11 13:31:30.345 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-11 13:31:30.354 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:31:30.356 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - 204 null null 11.2183ms
2025-08-11 13:31:30.365 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-11 13:31:30.377 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:31:30.384 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-11 13:31:30.396 +05:30 [INF] Route matched with {action = "GetRecentLogs", controller = "CatalogTracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentLogs(Int32) on controller xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController (xbytechat.api).
2025-08-11 13:31:31.397 +05:30 [INF] Executed DbCommand (940ms) [Parameters=[@__p_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BotId", c."BusinessId", c."ButtonText", c."CTAJourney", c."CampaignId", c."CampaignSendLogId", c."CategoryBrowsed", c."ClickedAt", c."ContactId", c."CtaId", c."FollowUpSent", c."LastInteractionType", c."MessageLogId", c."PlanSnapshot", c."ProductBrowsed", c."ProductId", c."RefMessageId", c."Source", c."TemplateId", c."UserId", c."UserName", c."UserPhone"
FROM "CatalogClickLogs" AS c
ORDER BY c."ClickedAt" DESC
LIMIT @__p_0
2025-08-11 13:31:31.403 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 13:31:31.436 +05:30 [INF] Executed action xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api) in 1036.1026ms
2025-08-11 13:31:31.439 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-11 13:31:31.442 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - 200 null application/json; charset=utf-8 1077.1351ms
2025-08-11 13:41:05.212 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 13:41:05.218 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:41:05.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 9.1205ms
2025-08-11 13:41:05.239 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 13:41:05.245 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:41:05.248 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:41:05.250 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 13:41:17.426 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 13:41:31.322 +05:30 [INF] Executed DbCommand (409ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 13:42:22.626 +05:30 [INF] Executed DbCommand (427ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 13:42:23.035 +05:30 [INF] Executed DbCommand (401ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 13:42:24.061 +05:30 [INF] Executed DbCommand (1,020ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 13:43:00.158 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 13:43:05.610 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 13:43:10.822 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 13:43:10.826 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 125571.923ms
2025-08-11 13:43:10.830 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 13:43:10.833 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 125594.2062ms
2025-08-11 13:43:10.853 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:43:10.860 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:10.863 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 10.2051ms
2025-08-11 13:43:10.885 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:43:10.891 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:10.897 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:43:10.900 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:43:11.361 +05:30 [INF] Executed DbCommand (451ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:43:11.374 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:43:11.376 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 470.3362ms
2025-08-11 13:43:11.379 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:43:11.381 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 496.0166ms
2025-08-11 13:43:12.115 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-11 13:43:12.127 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:12.131 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - 204 null null 16.0737ms
2025-08-11 13:43:12.143 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-11 13:43:12.148 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:12.150 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-11 13:43:12.154 +05:30 [INF] Route matched with {action = "GetRecentLogs", controller = "CatalogTracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentLogs(Int32) on controller xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController (xbytechat.api).
2025-08-11 13:43:12.496 +05:30 [INF] Executed DbCommand (332ms) [Parameters=[@__p_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BotId", c."BusinessId", c."ButtonText", c."CTAJourney", c."CampaignId", c."CampaignSendLogId", c."CategoryBrowsed", c."ClickedAt", c."ContactId", c."CtaId", c."FollowUpSent", c."LastInteractionType", c."MessageLogId", c."PlanSnapshot", c."ProductBrowsed", c."ProductId", c."RefMessageId", c."Source", c."TemplateId", c."UserId", c."UserName", c."UserPhone"
FROM "CatalogClickLogs" AS c
ORDER BY c."ClickedAt" DESC
LIMIT @__p_0
2025-08-11 13:43:12.501 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 13:43:12.504 +05:30 [INF] Executed action xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api) in 346.2944ms
2025-08-11 13:43:12.507 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-11 13:43:12.509 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - 200 null application/json; charset=utf-8 366.2014ms
2025-08-11 13:43:22.922 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:43:22.931 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:22.934 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 11.6784ms
2025-08-11 13:43:22.940 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:43:22.947 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:22.953 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:43:22.955 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:43:23.349 +05:30 [INF] Executed DbCommand (388ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:43:23.356 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:43:23.360 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 401.2709ms
2025-08-11 13:43:23.362 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:43:23.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 424.6816ms
2025-08-11 13:43:33.931 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/businesses/approved - null null
2025-08-11 13:43:33.938 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:33.941 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/businesses/approved - 204 null null 10.1967ms
2025-08-11 13:43:33.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/approved - null null
2025-08-11 13:43:33.963 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:33.971 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (SuperAdmin)
2025-08-11 13:43:33.978 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-11 13:43:33.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/approved - 403 0 null 32.1355ms
2025-08-11 13:43:37.606 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-08-11 13:43:37.613 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:37.619 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 12.9468ms
2025-08-11 13:43:37.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-08-11 13:43:37.650 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:43:37.654 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-08-11 13:43:37.662 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-08-11 13:43:37.740 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 73.2228ms
2025-08-11 13:43:37.745 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-08-11 13:43:37.816 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings() in D:\xbytechat\xbytechat-api\xbytechat-api\WhatsAppSettings\Controllers\WhatsAppSettingsController.cs:line 85
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 360
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-11 13:43:37.927 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 500 null application/json; charset=utf-8 285.3039ms
2025-08-11 13:44:06.687 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:06.695 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:06.697 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 10.1568ms
2025-08-11 13:44:06.703 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:06.710 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:06.713 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:06.716 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:44:07.076 +05:30 [INF] Executed DbCommand (353ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:44:07.081 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:44:07.084 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 362.7678ms
2025-08-11 13:44:07.087 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:07.089 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 385.7899ms
2025-08-11 13:44:15.958 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:15.964 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:15.967 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 9.2075ms
2025-08-11 13:44:15.976 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:15.980 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:15.983 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:15.986 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:44:17.901 +05:30 [INF] Executed DbCommand (1,910ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:44:17.905 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:44:17.908 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 1918.6596ms
2025-08-11 13:44:17.911 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:17.913 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 1937.0886ms
2025-08-11 13:44:22.274 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:22.283 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:22.286 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 12.4051ms
2025-08-11 13:44:22.293 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:22.298 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:22.300 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:22.302 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:44:22.846 +05:30 [INF] Executed DbCommand (538ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:44:22.851 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:44:22.854 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 548.2837ms
2025-08-11 13:44:22.858 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:22.860 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 567.2705ms
2025-08-11 13:44:28.203 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:28.210 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:28.212 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.1359ms
2025-08-11 13:44:28.217 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:28.223 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:28.226 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:28.229 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:44:28.683 +05:30 [INF] Executed DbCommand (447ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:44:28.688 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:44:28.692 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 459.2008ms
2025-08-11 13:44:28.695 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:28.697 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 479.5146ms
2025-08-11 13:44:33.459 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 13:44:33.465 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:33.467 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:44:33.476 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 13:44:33.487 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 13:44:33.491 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 10.7202ms
2025-08-11 13:44:33.494 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:44:33.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 403 null application/json; charset=utf-8 36.4441ms
2025-08-11 13:44:52.501 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:52.511 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:52.513 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 12.2797ms
2025-08-11 13:44:52.519 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:52.526 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:52.529 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:52.531 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:44:52.952 +05:30 [INF] Executed DbCommand (416ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:44:52.958 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:44:52.960 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 425.8701ms
2025-08-11 13:44:52.963 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:52.965 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 446.0488ms
2025-08-11 13:44:52.993 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 13:44:53.000 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:53.002 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:44:53.006 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 13:44:53.011 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 13:44:53.015 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 4.7976ms
2025-08-11 13:44:53.019 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:44:53.022 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 403 null application/json; charset=utf-8 29.2024ms
2025-08-11 13:44:55.293 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:44:55.300 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:55.303 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:55.306 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:44:55.921 +05:30 [INF] Executed DbCommand (610ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:44:55.926 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:44:55.929 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 619.3803ms
2025-08-11 13:44:55.932 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:44:55.934 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 641.234ms
2025-08-11 13:44:55.973 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 13:44:55.980 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:44:55.982 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:44:55.985 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 13:44:55.994 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 13:44:55.998 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 9.4378ms
2025-08-11 13:44:56.001 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:44:56.003 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 403 null application/json; charset=utf-8 29.5175ms
2025-08-11 13:46:01.836 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:46:01.842 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:46:01.845 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.6299ms
2025-08-11 13:46:01.851 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 13:46:01.856 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:46:01.859 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:46:01.862 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 13:46:04.530 +05:30 [INF] Executed DbCommand (2,661ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 13:46:04.535 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 13:46:04.538 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 2672.0396ms
2025-08-11 13:46:04.541 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 13:46:04.543 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 2692.0539ms
2025-08-11 13:46:04.592 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 13:46:04.601 +05:30 [INF] CORS policy execution successful.
2025-08-11 13:46:04.603 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:46:04.604 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 13:46:33.548 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 13:46:35.563 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 30954.4979ms
2025-08-11 13:46:35.568 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 13:46:35.570 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 403 null application/json; charset=utf-8 30977.986ms
2025-08-11 14:26:34.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:26:34.488 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:26:34.537 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 60.1844ms
2025-08-11 14:26:34.555 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:26:34.602 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:26:34.608 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:26:34.626 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:26:38.398 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:26:38.400 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:26:38.402 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:26:38.403 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:26:38.619 +05:30 [INF] Executed DbCommand (429ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:26:38.621 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:26:38.637 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 3997.3008ms
2025-08-11 14:26:38.639 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:26:38.640 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 499 null application/json; charset=utf-8 4084.5303ms
2025-08-11 14:26:41.771 +05:30 [INF] Executed DbCommand (480ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:26:41.774 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:26:41.775 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 3371.026ms
2025-08-11 14:26:41.777 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:26:41.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 3379.938ms
2025-08-11 14:26:41.799 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 14:26:41.802 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:26:41.803 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 14:26:41.804 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 14:29:49.131 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 14:29:49.131 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:29:49.140 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 183741.2791ms
2025-08-11 14:29:49.141 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:29:49.143 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 14:29:49.143 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 11.8883ms
2025-08-11 14:29:49.144 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 499 null application/json; charset=utf-8 183752.4032ms
2025-08-11 14:29:49.155 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:29:49.170 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:29:49.177 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:29:49.180 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:29:49.761 +05:30 [INF] Executed DbCommand (578ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:29:49.763 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:29:49.765 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 583.0048ms
2025-08-11 14:29:49.766 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:29:49.767 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 611.5675ms
2025-08-11 14:29:49.780 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 14:29:49.782 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:29:49.783 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 14:29:49.784 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 14:38:52.568 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 14:38:52.572 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:38:52.575 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 542789.6781ms
2025-08-11 14:38:52.576 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:38:52.577 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 14:38:52.578 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.8489ms
2025-08-11 14:38:52.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 499 null application/json; charset=utf-8 542798.529ms
2025-08-11 14:38:52.584 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:38:52.588 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:38:52.589 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:38:52.590 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:38:53.067 +05:30 [ERR] Failed executing DbCommand (474ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:38:53.078 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'xbytechat.api.AppDbContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-11 14:38:53.133 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 541.7674ms
2025-08-11 14:38:53.134 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:38:53.212 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure.
 ---> Npgsql.NpgsqlException (0x80004005): Exception while reading from stream
 ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host..
 ---> System.Net.Sockets.SocketException (10054): An existing connection was forcibly closed by the remote host.
   --- End of inner exception stack trace ---
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource<System.Int32>.GetResult(Int16 token)
   at System.Net.Security.SslStream.EnsureFullTlsFrameAsync[TIOAdapter](CancellationToken cancellationToken, Int32 estimatedSize)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at System.Net.Security.SslStream.ReadAsyncInternal[TIOAdapter](Memory`1 buffer, CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at Npgsql.Internal.NpgsqlReadBuffer.<Ensure>g__EnsureLong|55_0(NpgsqlReadBuffer buffer, Int32 count, Boolean async, Boolean readingNotifications)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\FeatureAccessModule\Controllers\FeatureAccessController.cs:line 76
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 360
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-11 14:38:53.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 500 null application/json; charset=utf-8 639.3515ms
2025-08-11 14:38:59.703 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 14:38:59.706 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:38:59.707 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.8432ms
2025-08-11 14:38:59.710 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-11 14:38:59.712 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:38:59.713 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:38:59.714 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 14:39:01.137 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-11 14:39:04.897 +05:30 [INF] Executed DbCommand (971ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 14:39:05.542 +05:30 [INF] Executed DbCommand (615ms) [Parameters=[@__user_BusinessId_Value_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-11 14:39:05.602 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 14:39:05.605 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 5890.0469ms
2025-08-11 14:39:05.607 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:39:05.607 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 401 null application/json; charset=utf-8 5897.6035ms
2025-08-11 14:39:11.887 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 14:39:11.890 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:11.891 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.697ms
2025-08-11 14:39:11.894 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-11 14:39:11.898 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:11.899 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:39:11.900 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 14:39:15.223 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-11 14:39:15.796 +05:30 [INF] Executed DbCommand (571ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 14:39:16.159 +05:30 [INF] Executed DbCommand (360ms) [Parameters=[@__user_BusinessId_Value_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-11 14:39:16.162 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 14:39:16.163 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 4261.7895ms
2025-08-11 14:39:16.164 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:39:16.165 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 401 null application/json; charset=utf-8 4270.7866ms
2025-08-11 14:39:21.180 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 14:39:21.182 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:21.183 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 2.9801ms
2025-08-11 14:39:21.185 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 14:39:21.188 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:21.189 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:39:21.190 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 14:39:22.785 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 14:39:23.169 +05:30 [INF] Executed DbCommand (383ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 14:39:23.788 +05:30 [INF] Executed DbCommand (616ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 14:39:24.403 +05:30 [INF] Executed DbCommand (612ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 14:39:25.034 +05:30 [INF] Executed DbCommand (628ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 14:39:25.051 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 14:39:25.052 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 14:39:25.053 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 14:39:25.054 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 3863.1842ms
2025-08-11 14:39:25.055 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:39:25.056 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 3870.9475ms
2025-08-11 14:39:25.059 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:39:25.061 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:25.062 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 2.8961ms
2025-08-11 14:39:25.066 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:39:25.068 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:25.069 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:39:25.069 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:39:25.741 +05:30 [INF] Executed DbCommand (670ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:39:25.743 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:39:25.745 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 674.0427ms
2025-08-11 14:39:25.746 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:39:25.747 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 680.9111ms
2025-08-11 14:39:34.190 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:39:34.192 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:34.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 2.8403ms
2025-08-11 14:39:34.195 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:39:34.197 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:34.198 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:39:34.198 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:39:34.641 +05:30 [INF] Executed DbCommand (440ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:39:34.643 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:39:34.644 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 444.5051ms
2025-08-11 14:39:34.645 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:39:34.646 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 451.5978ms
2025-08-11 14:39:40.670 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:39:40.672 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:40.673 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.0779ms
2025-08-11 14:39:40.675 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:39:40.677 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:39:40.677 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:39:40.678 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:39:41.003 +05:30 [INF] Executed DbCommand (323ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:39:41.006 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:39:41.007 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 327.5854ms
2025-08-11 14:39:41.008 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:39:41.009 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 334.0325ms
2025-08-11 14:45:29.475 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 14:45:29.477 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:29.478 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 33.9441ms
2025-08-11 14:45:29.483 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-11 14:45:29.485 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:29.486 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:45:29.486 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 14:45:31.189 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-11 14:45:34.334 +05:30 [INF] Executed DbCommand (338ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 14:45:34.965 +05:30 [INF] Executed DbCommand (628ms) [Parameters=[@__user_BusinessId_Value_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-11 14:45:35.276 +05:30 [INF] Executed DbCommand (308ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 14:45:35.604 +05:30 [INF] Executed DbCommand (325ms) [Parameters=[@__userId_0='e062cf85-a63e-4380-8c1b-be3e961e26d4'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 14:45:35.925 +05:30 [INF] Executed DbCommand (319ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000001' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 14:45:35.928 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-11 14:45:35.929 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Basic
2025-08-11 14:45:35.930 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 14:45:35.931 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 6443.5001ms
2025-08-11 14:45:35.932 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:45:35.933 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 6450.0473ms
2025-08-11 14:45:35.936 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:45:35.938 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:35.939 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.2115ms
2025-08-11 14:45:35.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:45:35.943 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:35.944 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:45:35.945 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:45:36.386 +05:30 [INF] Executed DbCommand (439ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:45:36.715 +05:30 [INF] Executed DbCommand (324ms) [Parameters=[@__businessId_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-11 14:45:36.717 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:45:36.719 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 772.1733ms
2025-08-11 14:45:36.720 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:45:36.721 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 779.1203ms
2025-08-11 14:45:42.013 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 14:45:42.016 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:42.017 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.3922ms
2025-08-11 14:45:42.030 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-11 14:45:42.033 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:42.034 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:45:42.035 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 14:45:47.087 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-11 14:45:47.429 +05:30 [INF] Executed DbCommand (336ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 14:45:47.785 +05:30 [INF] Executed DbCommand (353ms) [Parameters=[@__user_BusinessId_Value_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-11 14:45:48.396 +05:30 [INF] Executed DbCommand (608ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 14:45:48.725 +05:30 [INF] Executed DbCommand (326ms) [Parameters=[@__userId_0='e062cf85-a63e-4380-8c1b-be3e961e26d4'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 14:45:49.039 +05:30 [INF] Executed DbCommand (311ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000001' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 14:45:49.041 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-11 14:45:49.042 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Basic
2025-08-11 14:45:49.043 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 14:45:49.045 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 7008.4644ms
2025-08-11 14:45:49.046 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:45:49.047 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 7016.4242ms
2025-08-11 14:45:49.049 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:45:49.051 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:49.052 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 2.8179ms
2025-08-11 14:45:49.062 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:45:49.064 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:45:49.065 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:45:49.066 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:45:49.393 +05:30 [INF] Executed DbCommand (325ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:45:49.694 +05:30 [INF] Executed DbCommand (297ms) [Parameters=[@__businessId_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-11 14:45:49.696 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:45:49.697 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 629.8912ms
2025-08-11 14:45:49.699 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:45:49.700 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 637.5256ms
2025-08-11 14:46:21.694 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:21.696 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:21.697 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.3294ms
2025-08-11 14:46:21.700 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:21.703 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:21.704 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:21.704 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:46:22.316 +05:30 [INF] Executed DbCommand (609ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:46:22.640 +05:30 [INF] Executed DbCommand (322ms) [Parameters=[@__businessId_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-11 14:46:22.642 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:46:22.644 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 937.6331ms
2025-08-11 14:46:22.645 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:22.646 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 945.4763ms
2025-08-11 14:46:25.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:25.287 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:25.288 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:25.288 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:46:25.649 +05:30 [INF] Executed DbCommand (358ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:46:26.157 +05:30 [INF] Executed DbCommand (505ms) [Parameters=[@__businessId_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-11 14:46:26.159 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:46:26.160 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 870.3264ms
2025-08-11 14:46:26.161 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:26.162 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 877.531ms
2025-08-11 14:46:28.636 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:28.639 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:28.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 2.942ms
2025-08-11 14:46:28.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:28.643 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:28.644 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:28.645 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:46:29.048 +05:30 [INF] Executed DbCommand (401ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:46:29.373 +05:30 [INF] Executed DbCommand (322ms) [Parameters=[@__businessId_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-11 14:46:29.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:46:29.376 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 729.3716ms
2025-08-11 14:46:29.377 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:29.378 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 736.3921ms
2025-08-11 14:46:36.891 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 14:46:36.893 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:36.894 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.1992ms
2025-08-11 14:46:36.897 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-11 14:46:36.899 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:36.900 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:46:36.901 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 14:46:36.903 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-11 14:46:37.337 +05:30 [INF] Executed DbCommand (434ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 14:46:37.875 +05:30 [INF] Executed DbCommand (536ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000001' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 14:46:38.215 +05:30 [INF] Executed DbCommand (337ms) [Parameters=[@__userId_0='62b5baa2-3a54-4f65-8096-c34368af7634'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 14:46:38.598 +05:30 [INF] Executed DbCommand (380ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000003', '30000000-0000-0000-0000-000000000008', '30000000-0000-0000-0000-000000000009', '30000000-0000-0000-0000-000000000005', '30000000-0000-0000-0000-000000000001', ... } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 14:46:38.601 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-11 14:46:38.602 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: admin, Plan: admin
2025-08-11 14:46:38.603 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 14:46:38.604 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 1701.8613ms
2025-08-11 14:46:38.605 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 14:46:38.606 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1708.8095ms
2025-08-11 14:46:38.609 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:38.611 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:38.612 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.2805ms
2025-08-11 14:46:38.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:38.616 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:38.616 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:38.617 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:46:38.948 +05:30 [INF] Executed DbCommand (329ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:46:38.951 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:46:38.952 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 333.4715ms
2025-08-11 14:46:38.953 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:38.954 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 339.6753ms
2025-08-11 14:46:47.257 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:47.259 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:47.260 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.36ms
2025-08-11 14:46:47.263 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:47.265 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:47.266 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:47.267 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:46:47.596 +05:30 [INF] Executed DbCommand (327ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:46:47.598 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:46:47.599 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 330.8448ms
2025-08-11 14:46:47.600 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:47.601 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 338.3856ms
2025-08-11 14:46:51.346 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 14:46:51.348 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:51.349 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:51.350 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 14:46:51.768 +05:30 [INF] Executed DbCommand (416ms) [Parameters=[@__plan_0='admin'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 14:46:51.770 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 14:46:51.771 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 420.05ms
2025-08-11 14:46:51.773 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 14:46:51.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 427.1764ms
2025-08-11 14:46:53.346 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/businesses/pending - null null
2025-08-11 14:46:53.349 +05:30 [INF] CORS policy execution successful.
2025-08-11 14:46:53.350 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 14:46:53.351 +05:30 [INF] Route matched with {action = "GetPendingBusinesses", controller = "Businesses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPendingBusinesses() on controller xbytechat.api.Features.BusinessModule.Controllers.BusinessesController (xbytechat.api).
2025-08-11 14:46:57.215 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-11 14:46:57.217 +05:30 [INF] Executed action xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api) in 3864.5903ms
2025-08-11 14:46:57.218 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.BusinessModule.Controllers.BusinessesController.GetPendingBusinesses (xbytechat.api)'
2025-08-11 14:46:57.218 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/businesses/pending - 403 null application/json; charset=utf-8 3871.9119ms
2025-08-11 16:15:54.377 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-11 16:15:54.438 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-11 16:15:54.457 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-11 16:15:55.554 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-11 16:15:56.276 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-11 16:15:56.493 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-11 16:15:56.495 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-11 16:15:56.497 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-11 16:15:56.498 +05:30 [INF] Hosting environment: Development
2025-08-11 16:15:56.499 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-11 16:15:58.232 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-11 16:15:58.493 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 271.2437ms
2025-08-11 16:15:58.532 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-11 16:15:58.548 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 15.7924ms
2025-08-11 16:15:58.638 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-11 16:15:58.686 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.4248ms
2025-08-11 16:15:58.930 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-11 16:15:59.203 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 272.548ms
2025-08-11 16:16:00.745 +05:30 [INF] Executed DbCommand (405ms) [Parameters=[@__cutoff_0='2025-08-04T10:45:54.5949727Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-11 16:16:00.745 +05:30 [INF] Executed DbCommand (406ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-11 16:16:13.242 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-11 16:16:13.248 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-11 16:16:13.328 +05:30 [INF] CORS policy execution successful.
2025-08-11 16:16:13.334 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 92.1625ms
2025-08-11 16:16:13.341 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-11 16:16:13.357 +05:30 [INF] CORS policy execution successful.
2025-08-11 16:16:13.435 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 16:16:13.462 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-11 16:16:13.570 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-11 16:16:14.224 +05:30 [INF] Executed DbCommand (560ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-11 16:16:14.838 +05:30 [INF] Executed DbCommand (456ms) [Parameters=[@__user_BusinessId_Value_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-11 16:16:15.454 +05:30 [INF] Executed DbCommand (503ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-11 16:16:15.965 +05:30 [INF] Executed DbCommand (487ms) [Parameters=[@__userId_0='e062cf85-a63e-4380-8c1b-be3e961e26d4'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-11 16:16:16.478 +05:30 [INF] Executed DbCommand (463ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000004', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000001' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-11 16:16:16.580 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-11 16:16:16.694 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Basic
2025-08-11 16:16:16.709 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-11 16:16:16.725 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 3254.3017ms
2025-08-11 16:16:16.728 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-11 16:16:16.737 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 3396.2903ms
2025-08-11 16:16:16.742 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-11 16:16:16.748 +05:30 [INF] CORS policy execution successful.
2025-08-11 16:16:16.750 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 7.4538ms
2025-08-11 16:16:16.755 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-11 16:16:16.760 +05:30 [INF] CORS policy execution successful.
2025-08-11 16:16:16.840 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 16:16:16.846 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-11 16:16:17.297 +05:30 [INF] Executed DbCommand (425ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-11 16:16:17.669 +05:30 [INF] Executed DbCommand (363ms) [Parameters=[@__businessId_0='5d97b47a-e8f1-49c8-824f-5261231ef9fd'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-11 16:16:17.674 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-11 16:16:17.684 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 835.2813ms
2025-08-11 16:16:17.687 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-11 16:16:17.689 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 933.6489ms
2025-08-11 16:16:30.966 +05:30 [INF] Application is shutting down...
2025-08-11 16:16:31.184 +05:30 [INF] 🛑 Graceful shutdown requested.
2025-08-11 16:16:31.186 +05:30 [INF] 🛑 Webhook Queue Worker stopped.
