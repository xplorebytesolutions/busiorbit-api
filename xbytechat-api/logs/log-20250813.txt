2025-08-13 11:30:51.231 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-13 11:30:51.304 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-13 11:30:51.356 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-13 11:30:52.834 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-13 11:30:53.626 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-13 11:30:53.936 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-13 11:30:53.968 +05:30 [INF] Executed DbCommand (68ms) [Parameters=[@__cutoff_0='2025-08-06T06:00:51.7228360Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-13 11:30:53.992 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-13 11:30:53.993 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-13 11:30:53.994 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-13 11:30:53.996 +05:30 [INF] Hosting environment: Development
2025-08-13 11:30:53.997 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-13 11:30:54.824 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-13 11:30:55.032 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 215.0097ms
2025-08-13 11:30:55.052 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-13 11:30:55.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.0583ms
2025-08-13 11:30:55.131 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-13 11:30:55.189 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.346ms
2025-08-13 11:30:55.358 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-13 11:30:55.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 228.4682ms
2025-08-13 11:31:17.085 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 11:31:17.093 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-13 11:31:17.203 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:31:17.208 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 123.1417ms
2025-08-13 11:31:17.222 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 11:31:17.236 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:31:17.330 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 11:31:17.355 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 11:31:17.496 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 11:31:17.631 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 11:31:17.816 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 11:31:17.969 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 11:31:18.011 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 11:31:18.154 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 11:31:18.215 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 11:31:18.266 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 11:31:18.279 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 11:31:18.291 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 927.9719ms
2025-08-13 11:31:18.295 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 11:31:18.303 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 1081.0548ms
2025-08-13 11:31:18.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 11:31:18.314 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:31:18.316 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.7286ms
2025-08-13 11:31:18.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 11:31:18.327 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:31:18.393 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 11:31:18.401 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 11:31:18.450 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 11:31:18.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 11:31:18.467 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 11:31:18.480 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 75.6438ms
2025-08-13 11:31:18.482 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 11:31:18.485 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 163.7443ms
2025-08-13 11:39:48.680 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 11:39:48.687 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:39:48.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 12.1156ms
2025-08-13 11:39:48.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 11:39:48.704 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:39:48.711 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 11:39:48.714 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 11:39:48.925 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 11:39:48.932 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 11:39:48.936 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 11:39:48.938 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 221.9043ms
2025-08-13 11:39:48.941 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 11:39:48.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 244.1577ms
2025-08-13 11:40:12.130 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/reminders - null null
2025-08-13 11:40:12.142 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api)'
2025-08-13 11:40:12.149 +05:30 [INF] Route matched with {action = "GetAllReminders", controller = "Reminders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReminders() on controller xbytechat.api.CRM.Controllers.RemindersController (xbytechat.api).
2025-08-13 11:40:12.244 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-13 11:40:12.259 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api) in 106.1062ms
2025-08-13 11:40:12.262 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api)'
2025-08-13 11:40:12.263 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/reminders - 500 null application/json; charset=utf-8 132.8813ms
2025-08-13 11:58:07.218 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 11:58:07.225 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:58:07.226 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 18.1961ms
2025-08-13 11:58:07.238 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 11:58:07.241 +05:30 [INF] CORS policy execution successful.
2025-08-13 11:58:07.245 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 11:58:07.247 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 11:58:07.450 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 11:58:07.456 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 11:58:07.459 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 11:58:07.462 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 212.511ms
2025-08-13 11:58:07.464 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 11:58:07.465 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 227.58ms
2025-08-13 12:03:58.758 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:03:58.763 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:03:58.765 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 7.7357ms
2025-08-13 12:03:58.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:03:58.778 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:03:58.780 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:03:58.782 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:03:58.989 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:03:58.994 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:03:58.997 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:03:58.999 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 214.4687ms
2025-08-13 12:03:59.001 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:03:59.002 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 227.9907ms
2025-08-13 12:04:39.458 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-13 12:04:39.460 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags - null null
2025-08-13 12:04:39.464 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:04:39.473 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - 204 null null 15.3036ms
2025-08-13 12:04:39.473 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-13 12:04:39.477 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-13 12:04:39.485 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-08-13 12:04:39.485 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:04:39.489 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-13 12:04:39.543 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 55.1508ms
2025-08-13 12:04:39.545 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-08-13 12:04:39.550 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-13 12:04:39.632 +05:30 [INF] GetPagedContactsAsync: businessId="c13be597-6ae2-42bb-9d43-925815f24ff8", tab=all, page=1, pageSize=25
2025-08-13 12:04:39.680 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-08-13 12:04:39.620 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.TagsController.GetAllTags() in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\TagsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 360
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-13 12:04:39.795 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-08-13 12:04:39.811 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags - 500 null application/json; charset=utf-8 351.0587ms
2025-08-13 12:04:39.929 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-13 12:04:39.955 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 406.7862ms
2025-08-13 12:04:39.957 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-13 12:04:39.958 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - 200 null application/json; charset=utf-8 481.0253ms
2025-08-13 12:15:17.932 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:15:17.938 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:15:17.941 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 10.0585ms
2025-08-13 12:15:17.949 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:15:17.952 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:15:17.955 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:15:17.956 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:15:18.146 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:15:18.151 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:15:18.154 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:15:18.156 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 197.8317ms
2025-08-13 12:15:18.158 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:15:18.160 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 210.7041ms
2025-08-13 12:17:28.803 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:17:28.809 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:17:28.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 13.218ms
2025-08-13 12:17:28.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:17:28.829 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:17:28.830 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:17:28.832 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:17:28.840 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:17:28.847 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:17:28.864 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:17:28.871 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 36.7247ms
2025-08-13 12:17:28.876 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:17:28.879 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 55.2267ms
2025-08-13 12:20:22.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.8cca81def9f9a01817a8.hot-update.json - null null
2025-08-13 12:20:22.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.8cca81def9f9a01817a8.hot-update.json - 404 0 null 5.1635ms
2025-08-13 12:20:22.354 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.8cca81def9f9a01817a8.hot-update.json, Response status code: 404
2025-08-13 12:20:23.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:20:23.015 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:23.016 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.0825ms
2025-08-13 12:20:23.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:20:23.028 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:23.030 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:20:23.031 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:20:23.212 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:20:23.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:20:23.220 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:20:23.222 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 189.5208ms
2025-08-13 12:20:23.224 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:20:23.226 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 201.2958ms
2025-08-13 12:20:23.514 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:20:23.516 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:23.518 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:20:23.519 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:20:23.522 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:20:23.538 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:20:23.547 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:20:23.549 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 28.6568ms
2025-08-13 12:20:23.551 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:20:23.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 38.6037ms
2025-08-13 12:20:28.734 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 12:20:28.738 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:28.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 5.2894ms
2025-08-13 12:20:28.745 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 12:20:28.749 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:28.751 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 12:20:28.752 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 12:20:28.762 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 12:20:28.769 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 12:20:28.779 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 12:20:28.787 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 12:20:28.793 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 12:20:28.799 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 12:20:28.803 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 12:20:28.805 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 12:20:28.807 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 12:20:28.810 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 54.948ms
2025-08-13 12:20:28.811 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 12:20:28.813 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 67.8831ms
2025-08-13 12:20:28.819 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:20:28.823 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:28.827 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.3061ms
2025-08-13 12:20:28.832 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:20:28.835 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:20:28.838 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:20:28.842 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:20:28.848 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:20:28.854 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:20:28.858 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:20:28.860 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 14.8713ms
2025-08-13 12:20:28.862 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:20:28.864 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 31.6705ms
2025-08-13 12:34:03.657 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:34:03.663 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:34:03.663 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 9.279ms
2025-08-13 12:34:03.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:34:03.673 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:34:03.675 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:34:03.676 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:34:03.838 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:34:03.842 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:34:03.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:34:03.846 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 168.5131ms
2025-08-13 12:34:03.847 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:34:03.848 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 177.2559ms
2025-08-13 12:36:23.531 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 12:36:23.565 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:36:23.584 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 54.1147ms
2025-08-13 12:36:23.595 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 12:36:23.598 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:36:23.600 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 12:36:23.601 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 12:36:23.613 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 12:36:23.619 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 12:36:23.625 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 12:36:23.632 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 12:36:23.638 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 12:36:23.643 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 12:36:23.647 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 12:36:23.649 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 12:36:23.651 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 12:36:23.653 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 49.8334ms
2025-08-13 12:36:23.654 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 12:36:23.656 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 61.4094ms
2025-08-13 12:36:23.663 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:36:23.667 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:36:23.668 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 4.5346ms
2025-08-13 12:36:23.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:36:23.678 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:36:23.680 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:36:23.682 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:36:23.688 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:36:23.693 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:36:23.697 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:36:23.699 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 13.4475ms
2025-08-13 12:36:23.701 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:36:23.702 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 29.0994ms
2025-08-13 12:36:31.439 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:36:31.444 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:36:31.445 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.6339ms
2025-08-13 12:36:31.449 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 12:36:31.452 +05:30 [INF] CORS policy execution successful.
2025-08-13 12:36:31.454 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:36:31.456 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 12:36:31.462 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 12:36:31.467 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 12:36:31.469 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 12:36:31.472 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 13.2373ms
2025-08-13 12:36:31.473 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 12:36:31.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 25.8112ms
2025-08-13 13:50:07.305 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 13:50:07.328 +05:30 [INF] CORS policy execution successful.
2025-08-13 13:50:07.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 27.4808ms
2025-08-13 13:50:07.355 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 13:50:07.362 +05:30 [INF] CORS policy execution successful.
2025-08-13 13:50:07.367 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 13:50:07.371 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 13:50:07.389 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 13:50:07.782 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 13:50:07.798 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 13:50:07.812 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 13:50:07.822 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 13:50:07.831 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 13:50:07.838 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 13:50:07.841 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 13:50:07.845 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 13:50:07.849 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 473.5638ms
2025-08-13 13:50:07.852 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 13:50:07.854 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 499.7759ms
2025-08-13 13:50:07.862 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 13:50:07.868 +05:30 [INF] CORS policy execution successful.
2025-08-13 13:50:07.870 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.2211ms
2025-08-13 13:50:07.876 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 13:50:07.882 +05:30 [INF] CORS policy execution successful.
2025-08-13 13:50:07.888 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 13:50:07.891 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 13:50:07.902 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 13:50:07.911 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 13:50:07.916 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 13:50:07.918 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 23.7174ms
2025-08-13 13:50:07.921 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 13:50:07.924 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 47.3774ms
2025-08-13 13:58:40.187 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 13:58:40.192 +05:30 [INF] CORS policy execution successful.
2025-08-13 13:58:40.193 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.7041ms
2025-08-13 13:58:40.233 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 13:58:40.236 +05:30 [INF] CORS policy execution successful.
2025-08-13 13:58:40.238 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 13:58:40.238 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 13:58:40.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 13:58:40.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 13:58:40.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 13:58:40.363 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 122.4987ms
2025-08-13 13:58:40.364 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 13:58:40.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 131.2948ms
2025-08-13 14:19:40.696 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-13 14:19:40.701 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:19:40.702 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - 204 null null 6.0955ms
2025-08-13 14:19:40.708 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-13 14:19:40.712 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:19:40.713 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-13 14:19:40.714 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-08-13 14:19:40.725 +05:30 [INF] GetPagedContactsAsync: businessId="c13be597-6ae2-42bb-9d43-925815f24ff8", tab=all, page=1, pageSize=25
2025-08-13 14:19:40.844 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Contacts" AS c
WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
2025-08-13 14:19:40.854 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8', @__p_2='25', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."AssignedAgentId", t."BusinessId", t."CreatedAt", t."Email", t."Group", t."IsActive", t."IsArchived", t."IsAutomationPaused", t."IsFavorite", t."LastCTAInteraction", t."LastCTAType", t."LastClickedProductId", t."LastContactedAt", t."LeadSource", t."Name", t."NextFollowUpAt", t."Notes", t."PhoneNumber", t."Tags", t0."Id", t0."AssignedAt", t0."AssignedBy", t0."BusinessId", t0."ContactId", t0."TagId", t0."Id0", t0."BusinessId0", t0."Category", t0."ColorHex", t0."CreatedAt", t0."IsActive", t0."IsSystemTag", t0."LastUsedAt", t0."Name", t0."Notes"
FROM (
    SELECT c."Id", c."AssignedAgentId", c."BusinessId", c."CreatedAt", c."Email", c."Group", c."IsActive", c."IsArchived", c."IsAutomationPaused", c."IsFavorite", c."LastCTAInteraction", c."LastCTAType", c."LastClickedProductId", c."LastContactedAt", c."LeadSource", c."Name", c."NextFollowUpAt", c."Notes", c."PhoneNumber", c."Tags"
    FROM "Contacts" AS c
    WHERE c."BusinessId" = @__businessId_0 AND c."IsActive"
    ORDER BY c."Name"
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0."Id", c0."AssignedAt", c0."AssignedBy", c0."BusinessId", c0."ContactId", c0."TagId", t1."Id" AS "Id0", t1."BusinessId" AS "BusinessId0", t1."Category", t1."ColorHex", t1."CreatedAt", t1."IsActive", t1."IsSystemTag", t1."LastUsedAt", t1."Name", t1."Notes"
    FROM "ContactTags" AS c0
    INNER JOIN "Tags" AS t1 ON c0."TagId" = t1."Id"
) AS t0 ON t."Id" = t0."ContactId"
ORDER BY t."Name", t."Id", t0."Id"
2025-08-13 14:19:40.859 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-13 14:19:40.864 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 147.6353ms
2025-08-13 14:19:40.865 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-13 14:19:40.866 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - 200 null application/json; charset=utf-8 158.1437ms
2025-08-13 14:19:40.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags - null null
2025-08-13 14:19:40.999 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-13 14:19:41.000 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-08-13 14:19:41.051 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 49.0241ms
2025-08-13 14:19:41.053 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-13 14:19:41.076 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.TagsController.GetAllTags() in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\TagsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 360
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-13 14:19:41.094 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags - 500 null application/json; charset=utf-8 97.9201ms
2025-08-13 14:22:57.847 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:22:57.850 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:22:57.851 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 4.0968ms
2025-08-13 14:22:57.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:22:57.866 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:22:57.867 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:22:57.869 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:22:57.875 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:22:57.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:22:57.886 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:22:57.887 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 16.6996ms
2025-08-13 14:22:57.890 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:22:57.892 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 30.1542ms
2025-08-13 14:22:57.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:22:57.937 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:22:57.939 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:22:57.942 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:22:57.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:22:57.953 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:22:57.965 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:22:57.967 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 21.9847ms
2025-08-13 14:22:57.969 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:22:57.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 37.9594ms
2025-08-13 14:24:28.958 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags - null null
2025-08-13 14:24:28.967 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-13 14:24:28.968 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-08-13 14:24:28.997 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 26.3765ms
2025-08-13 14:24:28.998 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-13 14:24:29.025 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.TagsController.GetAllTags() in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\TagsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 360
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-13 14:24:29.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags - 500 null application/json; charset=utf-8 72.9936ms
2025-08-13 14:27:23.164 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:27:23.171 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:27:23.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 7.9131ms
2025-08-13 14:27:23.189 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:27:23.192 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:27:23.194 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:27:23.195 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:27:23.357 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:27:23.361 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:27:23.363 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:27:23.365 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 167.7264ms
2025-08-13 14:27:23.366 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:27:23.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 178.575ms
2025-08-13 14:28:54.701 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:28:54.707 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:28:54.708 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.5418ms
2025-08-13 14:28:54.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:28:54.722 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:28:54.729 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:28:54.730 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:28:54.734 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:28:54.741 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:28:54.743 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:28:54.745 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 13.027ms
2025-08-13 14:28:54.746 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:28:54.748 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 37.0844ms
2025-08-13 14:29:59.836 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.1227d1e73d37fe28347b.hot-update.json - null null
2025-08-13 14:29:59.842 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.1227d1e73d37fe28347b.hot-update.json - 404 0 null 5.9883ms
2025-08-13 14:29:59.848 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.1227d1e73d37fe28347b.hot-update.json, Response status code: 404
2025-08-13 14:29:59.896 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.1227d1e73d37fe28347b.hot-update.json - null null
2025-08-13 14:29:59.904 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.1227d1e73d37fe28347b.hot-update.json - 404 0 null 8.4748ms
2025-08-13 14:29:59.908 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.1227d1e73d37fe28347b.hot-update.json, Response status code: 404
2025-08-13 14:30:00.417 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:30:00.421 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:00.422 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.6498ms
2025-08-13 14:30:00.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:30:00.432 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:00.438 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:00.440 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:30:00.446 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:30:00.456 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:30:00.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:30:00.467 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 24.2272ms
2025-08-13 14:30:00.473 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:00.475 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 46.2495ms
2025-08-13 14:30:02.425 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:30:02.428 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:02.430 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:02.431 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:30:02.436 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:30:02.442 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:30:02.444 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:30:02.446 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 13.0899ms
2025-08-13 14:30:02.447 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:02.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 23.3163ms
2025-08-13 14:30:02.617 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:30:02.619 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:02.620 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:02.621 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:30:02.623 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:30:02.627 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:30:02.629 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:30:02.630 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 8.5065ms
2025-08-13 14:30:02.632 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:02.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 15.5997ms
2025-08-13 14:30:07.607 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 14:30:07.609 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:07.610 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.1657ms
2025-08-13 14:30:07.612 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 14:30:07.615 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:07.616 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 14:30:07.618 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 14:30:07.620 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 14:30:07.624 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 14:30:07.628 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 14:30:07.633 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 14:30:07.636 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 14:30:07.639 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 14:30:07.641 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 14:30:07.642 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 14:30:07.643 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 14:30:07.644 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 24.8052ms
2025-08-13 14:30:07.645 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 14:30:07.646 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 34.1993ms
2025-08-13 14:30:07.650 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:30:07.652 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:07.653 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 2.77ms
2025-08-13 14:30:07.655 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:30:07.657 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:30:07.658 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:07.659 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:30:07.662 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:30:07.666 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:30:07.667 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:30:07.668 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 8.0179ms
2025-08-13 14:30:07.669 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:30:07.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 15.1795ms
2025-08-13 14:30:49.671 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/reminders - null null
2025-08-13 14:30:49.677 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api)'
2025-08-13 14:30:49.678 +05:30 [INF] Route matched with {action = "GetAllReminders", controller = "Reminders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReminders() on controller xbytechat.api.CRM.Controllers.RemindersController (xbytechat.api).
2025-08-13 14:30:49.713 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-13 14:30:49.715 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api) in 35.1788ms
2025-08-13 14:30:49.715 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api)'
2025-08-13 14:30:49.716 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/reminders - 500 null application/json; charset=utf-8 45.6402ms
2025-08-13 14:33:35.785 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:33:35.791 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:33:35.792 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.9128ms
2025-08-13 14:33:35.798 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:33:35.820 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:33:35.821 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:33:35.822 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:33:35.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:33:35.964 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:33:35.966 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:33:35.968 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 145.227ms
2025-08-13 14:33:35.969 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:33:35.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 172.1463ms
2025-08-13 14:33:49.688 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:33:49.691 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:33:49.692 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.5738ms
2025-08-13 14:33:49.694 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 14:33:49.695 +05:30 [INF] CORS policy execution successful.
2025-08-13 14:33:49.696 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:33:49.697 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 14:33:49.700 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 14:33:49.708 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 14:33:49.710 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 14:33:49.712 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 13.3754ms
2025-08-13 14:33:49.713 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 14:33:49.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 19.9878ms
2025-08-13 15:02:52.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:02:52.687 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:02:52.688 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.336ms
2025-08-13 15:02:52.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:02:52.697 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:02:52.698 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:02:52.699 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:02:52.861 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:02:52.864 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:02:52.866 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:02:52.868 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 166.7033ms
2025-08-13 15:02:52.869 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:02:52.870 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 174.8285ms
2025-08-13 15:04:49.973 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.17ce26cbc81c09b3b623.hot-update.json - null null
2025-08-13 15:04:49.976 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.17ce26cbc81c09b3b623.hot-update.json - 404 0 null 2.7779ms
2025-08-13 15:04:49.978 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.17ce26cbc81c09b3b623.hot-update.json, Response status code: 404
2025-08-13 15:04:50.871 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:04:50.874 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:04:50.875 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.2277ms
2025-08-13 15:04:50.878 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:04:50.880 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:04:50.882 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:04:50.882 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:04:50.887 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:04:50.891 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:04:50.894 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:04:50.895 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 10.1744ms
2025-08-13 15:04:50.896 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:04:50.897 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 19.5864ms
2025-08-13 15:04:55.284 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 15:04:55.287 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:04:55.303 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 18.7934ms
2025-08-13 15:04:55.306 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 15:04:55.307 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:04:55.308 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 15:04:55.309 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 15:04:55.312 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 15:04:55.316 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 15:04:55.320 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 15:04:55.324 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 15:04:55.327 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 15:04:55.330 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 15:04:55.333 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 15:04:55.333 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 15:04:55.335 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 15:04:55.336 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 25.2255ms
2025-08-13 15:04:55.336 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 15:04:55.337 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 31.7624ms
2025-08-13 15:04:55.340 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:04:55.342 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:04:55.343 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:04:55.344 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:04:55.347 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:04:55.352 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:04:55.357 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:04:55.358 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 12.777ms
2025-08-13 15:04:55.359 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:04:55.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 19.812ms
2025-08-13 15:05:26.730 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:05:26.735 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:05:26.735 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.5408ms
2025-08-13 15:05:26.738 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:05:26.740 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:05:26.741 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:05:26.742 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:05:26.754 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:05:26.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:05:26.763 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:05:26.764 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 20.5076ms
2025-08-13 15:05:26.765 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:05:26.766 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 28.1118ms
2025-08-13 15:05:33.591 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:05:33.594 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:05:33.595 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.2248ms
2025-08-13 15:05:33.597 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:05:33.599 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:05:33.600 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:05:33.604 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:05:33.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:05:33.610 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:05:33.612 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:05:33.613 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 7.4787ms
2025-08-13 15:05:33.614 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:05:33.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 18.0111ms
2025-08-13 15:06:42.479 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:42.481 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:42.482 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.1158ms
2025-08-13 15:06:42.490 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:42.492 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:42.493 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:42.494 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:06:42.517 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:06:42.523 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:06:42.527 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:06:42.529 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 33.4832ms
2025-08-13 15:06:42.531 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:42.532 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 42.2329ms
2025-08-13 15:06:45.884 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:45.900 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:45.902 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:45.903 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:06:45.906 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:06:45.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:06:45.911 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:06:45.913 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 8.5044ms
2025-08-13 15:06:45.915 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:45.916 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 32.3069ms
2025-08-13 15:06:48.794 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:48.797 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:48.797 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 2.7732ms
2025-08-13 15:06:48.800 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:48.802 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:48.808 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:48.809 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:06:48.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:06:48.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:06:48.821 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:06:48.823 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 12.0081ms
2025-08-13 15:06:48.825 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:48.826 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 26.1062ms
2025-08-13 15:06:50.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:50.936 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:50.937 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:50.938 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:06:50.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:06:50.944 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:06:50.945 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:06:50.947 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 7.7595ms
2025-08-13 15:06:50.948 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:50.949 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 15.2208ms
2025-08-13 15:06:58.491 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-13 15:06:58.493 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:58.494 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 2.8049ms
2025-08-13 15:06:58.496 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-13 15:06:58.498 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:58.499 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 15:06:58.500 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-13 15:06:58.503 +05:30 [INF] 🔑 Login attempt for email: ratan@tcs.com
2025-08-13 15:06:58.505 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='ratan@tcs.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-13 15:06:58.509 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_BusinessId_Value_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", b0."Id", b0."BusinessId", b0."CreatedAt", b0."Plan", b0."QuotaResetDate", b0."RemainingMessages", b0."TotalMonthlyQuota", b0."UpdatedAt", b0."WalletBalance"
FROM "Businesses" AS b
LEFT JOIN "BusinessPlanInfos" AS b0 ON b."Id" = b0."BusinessId"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-13 15:06:58.512 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_RoleId_0='00000000-0000-0000-0000-000000000004' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."AssignedAt", r."AssignedBy", r."IsActive", r."IsRevoked", r."PermissionId", r."RoleId"
FROM "RolePermissions" AS r
WHERE r."RoleId" = @__user_RoleId_0 AND NOT (r."IsRevoked")
2025-08-13 15:06:58.515 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='2870e1d8-0e80-4b12-88bd-70a8113307d6'], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."AssignedAt", u."AssignedBy", u."IsGranted", u."IsRevoked", u."PermissionId", u."UserId"
FROM "UserPermissions" AS u
WHERE u."UserId" = @__userId_0 AND NOT (u."IsRevoked")
2025-08-13 15:06:58.519 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__permissionIds_0={ '30000000-0000-0000-0000-000000000000', '30000000-0000-0000-0000-000000000007', '30000000-0000-0000-0000-000000000001', '30000000-0000-0000-0000-000000000004' } (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."CreatedAt", p."Description", p."Group", p."IsActive", p."Name"
FROM "Permissions" AS p
WHERE p."Id" = ANY (@__permissionIds_0)
2025-08-13 15:06:58.520 +05:30 [INF] ✅ Token generated for: ratan@tcs.com
2025-08-13 15:06:58.521 +05:30 [INF] ✅ Login successful for ratan@tcs.com, Role: business, Plan: Smart
2025-08-13 15:06:58.522 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-13 15:06:58.523 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 21.6926ms
2025-08-13 15:06:58.524 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-13 15:06:58.525 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 28.9176ms
2025-08-13 15:06:58.533 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:58.541 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:58.542 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.9934ms
2025-08-13 15:06:58.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:06:58.546 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:06:58.547 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:58.548 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:06:58.553 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:06:58.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:06:58.561 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:06:58.562 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 11.8479ms
2025-08-13 15:06:58.564 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:06:58.565 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 20.356ms
2025-08-13 15:33:03.093 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:33:03.124 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:33:03.125 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 32.0657ms
2025-08-13 15:33:03.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:33:03.137 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:33:03.139 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:33:03.140 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:33:03.337 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:33:03.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:33:03.343 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:33:03.344 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 201.7597ms
2025-08-13 15:33:03.345 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:33:03.346 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 212.1662ms
2025-08-13 15:41:37.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:41:37.365 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:41:37.366 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 8.2355ms
2025-08-13 15:41:37.373 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:41:37.378 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:41:37.379 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:41:37.380 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:41:37.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:41:37.661 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:41:37.663 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:41:37.664 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 282.1532ms
2025-08-13 15:41:37.665 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:41:37.666 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 292.6984ms
2025-08-13 15:57:17.045 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:57:17.053 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:57:17.054 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 9.074ms
2025-08-13 15:57:17.064 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-13 15:57:17.066 +05:30 [INF] CORS policy execution successful.
2025-08-13 15:57:17.068 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:57:17.069 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-13 15:57:17.248 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='smart'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-13 15:57:17.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-13 15:57:17.254 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-13 15:57:17.255 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 183.0058ms
2025-08-13 15:57:17.256 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-13 15:57:17.257 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 192.5726ms
2025-08-13 16:01:58.306 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/reporting/messages/history?page=1&pageSize=10 - null null
2025-08-13 16:01:58.334 +05:30 [INF] CORS policy execution successful.
2025-08-13 16:01:58.364 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/reporting/messages/history?page=1&pageSize=10 - 204 null null 58.1277ms
2025-08-13 16:01:58.415 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/reporting/messages/history?page=1&pageSize=10 - null null
2025-08-13 16:01:58.422 +05:30 [INF] CORS policy execution successful.
2025-08-13 16:01:58.424 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.ReportingModule.Controllers.MessageAnalyticsController.GetPaginatedLogs (xbytechat.api)'
2025-08-13 16:01:58.513 +05:30 [INF] Route matched with {action = "GetPaginatedLogs", controller = "MessageAnalytics"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaginatedLogs(xbytechat.api.Shared.PaginatedRequest) on controller xbytechat.api.Features.ReportingModule.Controllers.MessageAnalyticsController (xbytechat.api).
2025-08-13 16:01:58.643 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0
2025-08-13 16:01:58.697 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='c13be597-6ae2-42bb-9d43-925815f24ff8', @__p_2='10', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT m."Id", m."RecipientNumber", m."MessageContent", m."CreatedAt", m."CampaignId", m."Status", m."SentAt"
FROM "MessageLogs" AS m
WHERE m."BusinessId" = @__businessId_0
ORDER BY m."CreatedAt" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-08-13 16:01:58.705 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType52`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[xbytechat.api.Shared.PaginatedResponse`1[[xbytechat.api.Features.ReportingModule.DTOs.RecentMessageLogDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-13 16:01:58.753 +05:30 [INF] Executed action xbytechat.api.Features.ReportingModule.Controllers.MessageAnalyticsController.GetPaginatedLogs (xbytechat.api) in 237.5312ms
2025-08-13 16:01:58.755 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.ReportingModule.Controllers.MessageAnalyticsController.GetPaginatedLogs (xbytechat.api)'
2025-08-13 16:01:58.756 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/reporting/messages/history?page=1&pageSize=10 - 200 null application/json; charset=utf-8 341.7074ms
