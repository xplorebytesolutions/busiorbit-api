2025-08-16 00:20:40.103 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-16 00:20:40.144 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-16 00:20:40.159 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-16 00:20:41.171 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-16 00:20:41.752 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 00:20:41.958 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-16 00:20:41.959 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-16 00:20:41.960 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-16 00:20:41.961 +05:30 [INF] Hosting environment: Development
2025-08-16 00:20:41.962 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-16 00:20:41.980 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 00:20:42.000 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__cutoff_0='2025-08-08T18:50:40.3079799Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-16 00:20:43.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-16 00:20:43.919 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 188.51ms
2025-08-16 00:20:43.955 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 00:20:43.963 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.7732ms
2025-08-16 00:20:44.071 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-16 00:20:44.119 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.0342ms
2025-08-16 00:20:44.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 00:20:44.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.0633ms
2025-08-16 00:21:02.170 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 00:21:02.176 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-16 00:21:02.221 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:02.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 53.5035ms
2025-08-16 00:21:02.234 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 00:21:02.245 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:02.358 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 00:21:02.374 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 00:21:02.452 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 00:21:02.527 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 00:21:02.640 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 00:21:02.724 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 00:21:02.731 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 00:21:02.737 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, Plan: Basic, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 00:21:02.749 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 00:21:02.763 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 382.8182ms
2025-08-16 00:21:02.766 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 00:21:02.776 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 542.6569ms
2025-08-16 00:21:02.782 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:02.787 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:02.788 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 6.6135ms
2025-08-16 00:21:02.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:02.799 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:02.812 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:02.821 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:02.859 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:02.872 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:02.878 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:02.893 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 67.8924ms
2025-08-16 00:21:02.895 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:02.897 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 103.8551ms
2025-08-16 00:21:03.154 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 00:21:03.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:03.160 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:03.164 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:03.165 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 10.5346ms
2025-08-16 00:21:03.166 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 6.7201ms
2025-08-16 00:21:03.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:03.175 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 00:21:03.179 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:03.182 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:03.187 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:03.187 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:03.193 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:03.194 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 00:21:03.214 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 00:21:03.222 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:03.232 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 35.9764ms
2025-08-16 00:21:03.234 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:03.236 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 60.4448ms
2025-08-16 00:21:03.243 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:03.247 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:03.249 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 6.003ms
2025-08-16 00:21:03.254 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:03.261 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:03.264 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:03.272 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:03.291 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='3e92e204-cda8-4128-94c6-ac1e977e1152'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 00:21:03.318 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:03.325 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 00:21:03.337 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 00:21:03.373 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 97.5712ms
2025-08-16 00:21:03.375 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:03.376 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 177.9467ms
2025-08-16 00:21:03.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 122.5747ms
2025-08-16 00:21:03.378 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:03.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 210.6147ms
2025-08-16 00:21:10.480 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:10.483 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.484 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.0358ms
2025-08-16 00:21:10.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:10.491 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.492 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:10.494 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:10.505 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:10.511 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:10.514 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:10.516 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 20.2582ms
2025-08-16 00:21:10.518 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:10.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 31.365ms
2025-08-16 00:21:10.584 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 00:21:10.584 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:10.588 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.591 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.592 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 7.7193ms
2025-08-16 00:21:10.593 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 8.9737ms
2025-08-16 00:21:10.598 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:10.604 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 00:21:10.608 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.612 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.613 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:10.614 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:10.615 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 00:21:10.616 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:10.636 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 00:21:10.641 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 00:21:10.646 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 00:21:10.646 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:10.648 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 21.381ms
2025-08-16 00:21:10.650 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 20.3965ms
2025-08-16 00:21:10.651 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:10.653 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:10.654 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 55.9836ms
2025-08-16 00:21:10.656 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 52.0267ms
2025-08-16 00:21:10.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:10.679 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.680 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 4.2069ms
2025-08-16 00:21:10.684 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:10.687 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:10.689 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:10.691 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:10.694 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:10.696 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.8471ms
2025-08-16 00:21:10.697 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:10.698 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 14.2595ms
2025-08-16 00:21:11.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:11.585 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:11.587 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:11.588 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:11.594 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:11.601 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:11.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:11.606 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 15.6014ms
2025-08-16 00:21:11.608 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:11.609 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 28.0809ms
2025-08-16 00:21:11.638 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 00:21:11.638 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:11.642 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:11.645 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:11.647 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:11.655 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:11.656 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:11.658 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 00:21:11.664 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 00:21:11.671 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:11.673 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 00:21:11.676 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 15.5691ms
2025-08-16 00:21:11.680 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 00:21:11.681 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:11.683 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 17.2853ms
2025-08-16 00:21:11.684 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 46.2396ms
2025-08-16 00:21:11.686 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:11.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:11.691 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 52.715ms
2025-08-16 00:21:11.694 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:11.699 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:11.700 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:11.703 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:11.705 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.0578ms
2025-08-16 00:21:11.706 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:11.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 17.7794ms
2025-08-16 00:21:12.507 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:12.510 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:12.512 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:12.513 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:12.518 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:12.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:12.528 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:12.530 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 15.0209ms
2025-08-16 00:21:12.532 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:12.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 28.0767ms
2025-08-16 00:21:12.563 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 00:21:12.563 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:12.567 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:12.571 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:12.572 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:12.574 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:12.581 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:12.583 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 00:21:12.589 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 00:21:12.595 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 00:21:12.597 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:12.601 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 00:21:12.601 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 15.9522ms
2025-08-16 00:21:12.603 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 13.1972ms
2025-08-16 00:21:12.604 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:12.606 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:12.607 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 43.8546ms
2025-08-16 00:21:12.608 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 45.1994ms
2025-08-16 00:21:12.616 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:12.620 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:12.621 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:12.623 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:12.626 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:12.627 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.0727ms
2025-08-16 00:21:12.629 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:12.630 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 13.712ms
2025-08-16 00:21:13.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:13.361 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:13.362 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:13.364 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:13.369 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:13.376 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:13.380 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:13.384 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 18.4485ms
2025-08-16 00:21:13.386 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:13.387 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 30.3478ms
2025-08-16 00:21:13.420 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 00:21:13.421 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 00:21:13.425 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:13.428 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:13.429 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:13.430 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:13.432 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:13.433 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 00:21:13.438 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 00:21:13.444 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 00:21:13.447 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:13.450 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 00:21:13.451 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 15.7013ms
2025-08-16 00:21:13.452 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 12.7307ms
2025-08-16 00:21:13.454 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 00:21:13.455 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 00:21:13.456 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 36.1674ms
2025-08-16 00:21:13.457 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 36.8696ms
2025-08-16 00:21:13.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 00:21:13.467 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:13.468 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:13.469 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 00:21:13.472 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 00:21:13.473 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.1419ms
2025-08-16 00:21:13.475 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 00:21:13.476 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 12.2244ms
2025-08-16 00:21:17.964 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:17.967 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:17.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 4.6638ms
2025-08-16 00:21:17.972 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:17.975 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:17.976 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:17.977 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:17.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:17.990 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:17.993 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:17.995 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 14.8462ms
2025-08-16 00:21:17.997 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:17.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 26.5568ms
2025-08-16 00:21:18.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:18.763 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:18.764 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:18.766 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:18.771 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:18.778 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:18.781 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:18.783 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 15.5493ms
2025-08-16 00:21:18.785 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:18.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 27.2338ms
2025-08-16 00:21:19.286 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:19.291 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:19.293 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:19.294 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:19.300 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:19.306 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:19.310 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:19.313 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 15.9299ms
2025-08-16 00:21:19.314 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:19.316 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 30.1236ms
2025-08-16 00:21:19.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:19.547 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:19.549 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:19.550 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:19.554 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:19.561 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:19.564 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:19.566 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 13.9893ms
2025-08-16 00:21:19.568 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:19.570 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 25.8718ms
2025-08-16 00:21:19.784 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:19.788 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:19.789 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:19.790 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:19.796 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:19.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:19.804 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:19.807 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 14.2845ms
2025-08-16 00:21:19.809 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:19.810 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 26.1096ms
2025-08-16 00:21:42.456 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.98ebda9aa997b4da4cab.hot-update.json - null null
2025-08-16 00:21:42.462 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.98ebda9aa997b4da4cab.hot-update.json - 404 0 null 6.0112ms
2025-08-16 00:21:42.468 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.98ebda9aa997b4da4cab.hot-update.json, Response status code: 404
2025-08-16 00:21:42.508 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.98ebda9aa997b4da4cab.hot-update.json - null null
2025-08-16 00:21:42.511 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.98ebda9aa997b4da4cab.hot-update.json - 404 0 null 3.4543ms
2025-08-16 00:21:42.516 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.98ebda9aa997b4da4cab.hot-update.json, Response status code: 404
2025-08-16 00:21:43.106 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:43.114 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:43.115 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 9.7702ms
2025-08-16 00:21:43.121 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:43.125 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:43.126 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:43.128 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:43.137 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:43.149 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:43.153 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:43.155 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 24.0246ms
2025-08-16 00:21:43.161 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:43.163 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 42.0922ms
2025-08-16 00:21:43.674 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:43.679 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:43.681 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:43.682 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:43.689 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:43.697 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:43.700 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:43.702 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 16.8512ms
2025-08-16 00:21:43.705 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:43.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 32.4974ms
2025-08-16 00:21:44.828 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:44.831 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:44.832 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:44.834 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:44.839 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:44.846 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:44.849 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:44.851 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 14.3703ms
2025-08-16 00:21:44.852 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:44.854 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 26.0239ms
2025-08-16 00:21:47.634 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 00:21:47.637 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:47.638 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.0426ms
2025-08-16 00:21:47.643 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 00:21:47.645 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:47.647 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 00:21:47.648 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 00:21:47.653 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 00:21:47.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 00:21:47.665 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 00:21:47.671 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 00:21:47.674 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 00:21:47.675 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, Plan: Basic, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 00:21:47.677 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 00:21:47.679 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 28.9377ms
2025-08-16 00:21:47.680 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 00:21:47.682 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 38.8474ms
2025-08-16 00:21:47.685 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:47.688 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:47.690 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:47.691 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:47.695 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:47.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:47.704 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:47.705 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 12.153ms
2025-08-16 00:21:47.707 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:47.708 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 23.0423ms
2025-08-16 00:21:56.867 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 00:21:56.869 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:56.870 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.5167ms
2025-08-16 00:21:56.873 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 00:21:56.875 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:56.877 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 00:21:56.878 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 00:21:56.889 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 00:21:56.893 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 00:21:56.899 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 00:21:56.903 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 00:21:56.906 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 00:21:56.907 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, Plan: Basic, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 00:21:56.909 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 00:21:56.910 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 30.1057ms
2025-08-16 00:21:56.912 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 00:21:56.913 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 40.028ms
2025-08-16 00:21:56.917 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:56.919 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:56.920 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 3.7375ms
2025-08-16 00:21:56.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:21:56.928 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:21:56.930 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:56.933 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:21:56.938 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:21:56.945 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:21:56.949 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:21:56.951 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 15.7117ms
2025-08-16 00:21:56.953 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:21:56.955 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 30.0497ms
2025-08-16 00:23:29.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:23:29.624 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:23:29.625 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 5.3347ms
2025-08-16 00:23:29.630 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 00:23:29.633 +05:30 [INF] CORS policy execution successful.
2025-08-16 00:23:29.635 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:23:29.637 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 00:23:29.643 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 00:23:29.650 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 00:23:29.653 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 00:23:29.656 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 16.1511ms
2025-08-16 00:23:29.658 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 00:23:29.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 29.5688ms
2025-08-16 09:17:44.576 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 09:17:44.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 27.327ms
2025-08-16 09:17:44.748 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 09:17:45.072 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 323.7419ms
2025-08-16 09:26:42.547 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 09:26:42.553 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 8.9908ms
2025-08-16 09:26:42.810 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 09:26:42.910 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.4023ms
2025-08-16 10:36:01.718 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-16 10:36:01.788 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-16 10:36:01.822 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-16 10:36:02.928 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-16 10:36:03.685 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 10:36:03.937 +05:30 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 10:36:03.940 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-16 10:36:03.942 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-16 10:36:03.943 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-16 10:36:03.944 +05:30 [INF] Hosting environment: Development
2025-08-16 10:36:03.945 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-16 10:36:03.958 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__cutoff_0='2025-08-09T05:06:02.0031241Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-16 10:36:05.820 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-16 10:36:06.014 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 199.9744ms
2025-08-16 10:36:06.161 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-16 10:36:06.161 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 10:36:06.174 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.9841ms
2025-08-16 10:36:06.208 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.2763ms
2025-08-16 10:36:06.366 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 10:36:06.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 295.8861ms
2025-08-16 10:36:38.081 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 10:36:38.087 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-16 10:36:38.141 +05:30 [INF] CORS policy execution successful.
2025-08-16 10:36:38.146 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 65.0725ms
2025-08-16 10:36:38.154 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 10:36:38.164 +05:30 [INF] CORS policy execution successful.
2025-08-16 10:36:38.212 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 10:36:38.226 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 10:36:38.302 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 10:36:38.395 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 10:36:38.500 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 10:36:38.578 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 10:36:38.586 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 10:36:38.618 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, Plan: Basic, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 10:36:38.625 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 10:36:38.635 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 404.0353ms
2025-08-16 10:36:38.637 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 10:36:38.642 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 488.3468ms
2025-08-16 10:36:38.647 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - null null
2025-08-16 10:36:38.650 +05:30 [INF] CORS policy execution successful.
2025-08-16 10:36:38.651 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/feature-access/me - 204 null null 4.4518ms
2025-08-16 10:36:38.655 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/feature-access/me - null null
2025-08-16 10:36:38.660 +05:30 [INF] CORS policy execution successful.
2025-08-16 10:36:38.712 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 10:36:38.717 +05:30 [INF] Route matched with {action = "GetMyFeatureAccess", controller = "FeatureAccess"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyFeatureAccess() on controller xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController (xbytechat.api).
2025-08-16 10:36:38.738 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__plan_0='basic'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE lower(f."Plan") = @__plan_0
2025-08-16 10:36:38.746 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__businessId_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."BusinessId", f."CreatedAt", f."Description", f."FeatureName", f."Group", f."IsEnabled", f."Notes", f."Plan"
FROM "FeatureAccess" AS f
WHERE f."BusinessId" = @__businessId_0
2025-08-16 10:36:38.750 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController+FeatureMeDto[]'.
2025-08-16 10:36:38.757 +05:30 [INF] Executed action xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api) in 37.8297ms
2025-08-16 10:36:38.759 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.FeatureAccessModule.Controllers.FeatureAccessController.GetMyFeatureAccess (xbytechat.api)'
2025-08-16 10:36:38.761 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/feature-access/me - 200 null application/json; charset=utf-8 105.5479ms
2025-08-16 10:46:06.636 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 10:46:06.643 +05:30 [INF] CORS policy execution successful.
2025-08-16 10:46:06.644 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 8.1911ms
2025-08-16 10:46:06.647 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 10:46:06.649 +05:30 [INF] CORS policy execution successful.
2025-08-16 10:46:06.652 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 10:46:06.654 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 10:46:06.660 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 10:46:06.734 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 10:46:06.737 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 10:46:06.738 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, Plan: superadmin, PlanId: null
2025-08-16 10:46:06.740 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 10:46:06.741 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 85.4ms
2025-08-16 10:46:06.742 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 10:46:06.744 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 96.5732ms
2025-08-16 11:29:05.900 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-16 11:29:05.977 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-16 11:29:06.008 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-16 11:29:07.664 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-16 11:29:08.802 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 11:29:09.161 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-16 11:29:09.164 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-16 11:29:09.167 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-16 11:29:09.171 +05:30 [INF] Hosting environment: Development
2025-08-16 11:29:09.173 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-16 11:29:09.211 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 11:29:09.245 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__cutoff_0='2025-08-09T05:59:06.2073524Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-16 11:29:09.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-16 11:29:10.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 309.8092ms
2025-08-16 11:29:10.472 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-16 11:29:10.472 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 11:29:10.498 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 25.8176ms
2025-08-16 11:29:10.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.1473ms
2025-08-16 11:29:10.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 11:29:11.147 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 355.3652ms
2025-08-16 11:29:25.227 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 11:29:25.235 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-16 11:29:25.314 +05:30 [INF] CORS policy execution successful.
2025-08-16 11:29:25.321 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 94.3555ms
2025-08-16 11:29:25.329 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 11:29:25.348 +05:30 [INF] CORS policy execution successful.
2025-08-16 11:29:25.549 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 11:29:25.578 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 11:29:25.721 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 11:29:26.095 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 506.8246ms
2025-08-16 11:29:26.100 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 11:29:26.161 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.ToLowerInvariant() == __ToLowerInvariant_0 && u.PasswordHash == __hashedPassword_1 && !(u.IsDeleted))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.AuthModule.Services.AuthService.LoginAsync(UserLoginDto dto) in D:\xbytechat\xbytechat-api\xbytechat-api\AuthModule\Services\AuthService.cs:line 608
   at xbytechat.api.AuthModule.Controllers.AuthController.Login(UserLoginDto dto) in D:\xbytechat\xbytechat-api\xbytechat-api\AuthModule\Controllers\AuthController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 11:29:26.283 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 500 null application/json; charset=utf-8 953.9943ms
2025-08-16 14:25:56.493 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-16 14:25:56.548 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-16 14:25:56.567 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-16 14:25:57.469 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-16 14:25:58.076 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 14:25:58.397 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 14:25:58.397 +05:30 [INF] Executed DbCommand (107ms) [Parameters=[@__cutoff_0='2025-08-09T08:55:56.7032290Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-16 14:25:58.452 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-16 14:25:58.454 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-16 14:25:58.455 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-16 14:25:58.456 +05:30 [INF] Hosting environment: Development
2025-08-16 14:25:58.457 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-16 14:25:59.524 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-16 14:25:59.780 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 269.5645ms
2025-08-16 14:25:59.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-16 14:25:59.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 14:25:59.953 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 12.8722ms
2025-08-16 14:25:59.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.9258ms
2025-08-16 14:26:00.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 14:26:00.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 227.3667ms
2025-08-16 15:18:28.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.5c6e4d1ad0953e4becfd.hot-update.json - null null
2025-08-16 15:18:28.285 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-16 15:18:28.453 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.5c6e4d1ad0953e4becfd.hot-update.json - 404 0 null 179.9662ms
2025-08-16 15:18:28.479 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.5c6e4d1ad0953e4becfd.hot-update.json, Response status code: 404
2025-08-16 15:42:34.002 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.310d7da453bd4ff656ff.hot-update.json - null null
2025-08-16 15:42:34.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.310d7da453bd4ff656ff.hot-update.json - 404 0 null 5.5066ms
2025-08-16 15:42:34.015 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.310d7da453bd4ff656ff.hot-update.json, Response status code: 404
2025-08-16 15:47:03.037 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 15:47:03.050 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:47:03.053 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 16.6062ms
2025-08-16 15:47:03.058 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 15:47:03.069 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:47:03.076 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:47:03.114 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 15:47:03.242 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 15:47:03.460 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 340.5755ms
2025-08-16 15:47:03.463 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:47:03.494 +05:30 [ERR] ❌ An unhandled exception occurred
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.ToLowerInvariant() == __ToLowerInvariant_0 && u.PasswordHash == __hashedPassword_1 && !(u.IsDeleted))' could not be translated. Additional information: Translation of method 'string.ToLowerInvariant' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at xbytechat.api.AuthModule.Services.AuthService.LoginAsync(UserLoginDto dto) in D:\xbytechat\xbytechat-api\xbytechat-api\AuthModule\Services\AuthService.cs:line 608
   at xbytechat.api.AuthModule.Controllers.AuthController.Login(UserLoginDto dto) in D:\xbytechat\xbytechat-api\xbytechat-api\AuthModule\Controllers\AuthController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 15:47:03.573 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 500 null application/json; charset=utf-8 514.3685ms
2025-08-16 15:49:01.852 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 15:49:01.857 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:01.858 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 6.8529ms
2025-08-16 15:49:01.862 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 15:49:01.876 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:01.878 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:49:01.885 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 15:49:01.897 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 15:49:02.039 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 15:49:02.144 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 15:49:02.174 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 15:49:02.182 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:49:02.188 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 300.5303ms
2025-08-16 15:49:02.190 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:49:02.195 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 332.2816ms
2025-08-16 15:49:02.226 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:49:02.230 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:02.231 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.4093ms
2025-08-16 15:49:02.236 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:49:02.241 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:02.321 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:02.327 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:49:02.336 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:49:02.348 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 18.338ms
2025-08-16 15:49:02.351 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:02.352 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 116.2157ms
2025-08-16 15:49:02.360 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:49:02.363 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:02.367 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:02.369 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:49:02.373 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:49:02.375 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.3683ms
2025-08-16 15:49:02.377 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:02.378 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.9281ms
2025-08-16 15:49:19.991 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 15:49:19.994 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:19.995 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.1279ms
2025-08-16 15:49:19.998 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 15:49:20.000 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:20.002 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:49:20.003 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 15:49:20.012 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 15:49:20.036 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 15:49:20.058 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 15:49:20.132 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 15:49:20.134 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 15:49:20.136 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 15:49:20.137 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:49:20.139 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 134.3916ms
2025-08-16 15:49:20.140 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:49:20.142 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 143.6819ms
2025-08-16 15:49:20.145 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:49:20.147 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:20.148 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.3484ms
2025-08-16 15:49:20.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:49:20.154 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:20.157 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:20.158 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:49:20.172 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 15:49:20.190 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:49:20.196 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 36.1902ms
2025-08-16 15:49:20.198 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:20.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 47.6776ms
2025-08-16 15:49:20.203 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:49:20.206 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:49:20.207 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:20.208 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:49:20.210 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:49:20.211 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.9457ms
2025-08-16 15:49:20.213 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:49:20.214 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.6984ms
2025-08-16 15:54:46.120 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-16 15:54:46.158 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-16 15:54:46.173 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-16 15:54:47.159 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-16 15:54:47.712 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 15:54:47.955 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 15:54:47.961 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-16 15:54:47.962 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-16 15:54:47.963 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-16 15:54:47.964 +05:30 [INF] Hosting environment: Development
2025-08-16 15:54:47.965 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-16 15:54:47.978 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__cutoff_0='2025-08-09T10:24:46.2964944Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-16 15:54:49.873 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-16 15:54:50.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 196.3397ms
2025-08-16 15:54:50.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-16 15:54:50.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 15:54:50.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 17.8088ms
2025-08-16 15:54:50.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.8655ms
2025-08-16 15:54:50.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 15:54:50.580 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.0249ms
2025-08-16 15:54:56.719 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:54:56.724 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-16 15:54:56.771 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:54:56.774 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 55.2657ms
2025-08-16 15:54:56.778 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:54:56.788 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:54:56.969 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:54:56.986 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:54:57.114 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__planId_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 15:54:57.187 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:54:57.202 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 210.4045ms
2025-08-16 15:54:57.204 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:54:57.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 430.4216ms
2025-08-16 15:54:57.213 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:54:57.216 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:54:57.220 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:54:57.222 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:54:57.225 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:54:57.227 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.1276ms
2025-08-16 15:54:57.228 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:54:57.229 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.3589ms
2025-08-16 15:55:01.778 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 15:55:01.781 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:01.783 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.9415ms
2025-08-16 15:55:01.787 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 15:55:01.790 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:01.794 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:55:01.799 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 15:55:01.824 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 15:55:01.858 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 15:55:01.919 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 15:55:01.992 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 15:55:02.000 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 15:55:02.005 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 15:55:02.007 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:02.009 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 207.9542ms
2025-08-16 15:55:02.011 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:55:02.012 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 225.2789ms
2025-08-16 15:55:02.016 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:02.018 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:02.020 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.9878ms
2025-08-16 15:55:02.023 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:02.026 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:02.028 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:02.029 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:02.034 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:02.036 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 4.485ms
2025-08-16 15:55:02.037 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:02.038 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.2705ms
2025-08-16 15:55:02.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:02.045 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:02.047 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:02.048 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:02.050 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:02.052 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.0316ms
2025-08-16 15:55:02.053 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:02.054 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.8622ms
2025-08-16 15:55:11.813 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 15:55:11.817 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:11.819 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 5.3652ms
2025-08-16 15:55:11.825 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 15:55:11.828 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:11.830 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:55:11.831 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 15:55:11.837 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 15:55:11.846 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 15:55:11.851 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 15:55:11.852 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 15:55:11.854 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:11.856 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 22.5226ms
2025-08-16 15:55:11.858 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:55:11.860 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 35.061ms
2025-08-16 15:55:11.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:11.867 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:11.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.238ms
2025-08-16 15:55:11.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:11.876 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:11.877 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:11.879 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:11.881 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:11.890 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 8.8789ms
2025-08-16 15:55:11.891 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:11.893 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.8996ms
2025-08-16 15:55:11.899 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:11.901 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:11.903 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:11.904 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:11.907 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:11.909 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.4579ms
2025-08-16 15:55:11.911 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:11.912 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.3431ms
2025-08-16 15:55:19.387 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:19.391 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:19.393 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9628ms
2025-08-16 15:55:19.397 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:19.400 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:19.402 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:19.404 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:19.407 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:19.409 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.6651ms
2025-08-16 15:55:19.411 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:19.413 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.9949ms
2025-08-16 15:55:19.439 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:55:19.444 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:19.446 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:19.449 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:19.454 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:55:19.457 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.5515ms
2025-08-16 15:55:19.461 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:55:19.464 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 24.7124ms
2025-08-16 15:55:23.188 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 15:55:23.190 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 15:55:23.193 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:23.196 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:23.197 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 9.3465ms
2025-08-16 15:55:23.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 8.2953ms
2025-08-16 15:55:23.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 15:55:23.212 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 15:55:23.216 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:23.219 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:23.220 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 15:55:23.221 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 15:55:23.227 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 15:55:23.227 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:23.252 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 15:55:23.258 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 15:55:23.264 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 32.5956ms
2025-08-16 15:55:23.266 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 15:55:23.267 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 56.0479ms
2025-08-16 15:55:23.272 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 15:55:23.274 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:23.276 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 4.0098ms
2025-08-16 15:55:23.280 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 15:55:23.284 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:23.285 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 15:55:23.291 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:23.298 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='3e92e204-cda8-4128-94c6-ac1e977e1152'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 15:55:23.303 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 15:55:23.349 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 15:55:23.357 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 64.2941ms
2025-08-16 15:55:23.359 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 15:55:23.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 79.7408ms
2025-08-16 15:55:23.361 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 15:55:23.369 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 139.8704ms
2025-08-16 15:55:23.371 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 15:55:23.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 160.2987ms
2025-08-16 15:55:24.527 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 15:55:24.530 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:24.531 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 204 null null 4.0739ms
2025-08-16 15:55:24.534 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 15:55:24.536 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:55:24.537 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 15:55:24.538 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:55:24.541 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 15:55:24.542 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.0028ms
2025-08-16 15:55:24.543 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 15:55:24.544 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 200 null application/json; charset=utf-8 10.3855ms
2025-08-16 15:56:02.693 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 15:56:02.695 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:56:02.696 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 204 null null 3.7643ms
2025-08-16 15:56:02.704 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - application/json 196
2025-08-16 15:56:02.707 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:56:02.709 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.UpdatePlanPermissions (xbytechat.api)'
2025-08-16 15:56:02.713 +05:30 [INF] Route matched with {action = "UpdatePlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePlanPermissions(System.Guid, System.Guid[]) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:56:02.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AssignedAt", p."AssignedBy", p."IsActive", p."PermissionId", p."PlanId"
FROM "PlanPermissions" AS p
WHERE p."PlanId" = @__planId_0
2025-08-16 15:56:02.869 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='5440506a-e7f8-4051-8650-1317c59e07c4', @p1='0e5466f3-6567-495d-b39f-b74075c94e48', @p2='2025-08-16T10:26:02.7870041Z' (DbType = DateTime), @p3='system', @p4='True', @p5='30000000-0000-0000-0000-000000000002', @p6='b1ed0526-abd0-472f-a9ea-5bfebeeffe41', @p7='5f400eee-60f2-4a08-a7f7-04b5c75e37f4', @p8='2025-08-16T10:26:02.7863738Z' (DbType = DateTime), @p9='system', @p10='True', @p11='30000000-0000-0000-0000-000000000001', @p12='b1ed0526-abd0-472f-a9ea-5bfebeeffe41', @p13='b6acce2c-cd12-4dfe-8786-d5b5ddfb9b9d', @p14='2025-08-16T10:26:02.7655279Z' (DbType = DateTime), @p15='system', @p16='True', @p17='30000000-0000-0000-0000-000000000003', @p18='b1ed0526-abd0-472f-a9ea-5bfebeeffe41', @p19='d46a434b-780c-45fd-98eb-f64f02289bb3', @p20='2025-08-16T10:26:02.7870463Z' (DbType = DateTime), @p21='system', @p22='True', @p23='30000000-0000-0000-0000-000000000004', @p24='b1ed0526-abd0-472f-a9ea-5bfebeeffe41', @p25='dbad41b3-dc69-474f-bd0e-55e428b39353', @p26='2025-08-16T10:26:02.7870748Z' (DbType = DateTime), @p27='system', @p28='True', @p29='30000000-0000-0000-0000-000000000007', @p30='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PlanPermissions"
WHERE "Id" = @p0;
INSERT INTO "PlanPermissions" ("Id", "AssignedAt", "AssignedBy", "IsActive", "PermissionId", "PlanId")
VALUES (@p1, @p2, @p3, @p4, @p5, @p6);
INSERT INTO "PlanPermissions" ("Id", "AssignedAt", "AssignedBy", "IsActive", "PermissionId", "PlanId")
VALUES (@p7, @p8, @p9, @p10, @p11, @p12);
INSERT INTO "PlanPermissions" ("Id", "AssignedAt", "AssignedBy", "IsActive", "PermissionId", "PlanId")
VALUES (@p13, @p14, @p15, @p16, @p17, @p18);
INSERT INTO "PlanPermissions" ("Id", "AssignedAt", "AssignedBy", "IsActive", "PermissionId", "PlanId")
VALUES (@p19, @p20, @p21, @p22, @p23, @p24);
INSERT INTO "PlanPermissions" ("Id", "AssignedAt", "AssignedBy", "IsActive", "PermissionId", "PlanId")
VALUES (@p25, @p26, @p27, @p28, @p29, @p30);
2025-08-16 15:56:02.894 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:56:02.896 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.UpdatePlanPermissions (xbytechat.api) in 181.2129ms
2025-08-16 15:56:02.898 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.UpdatePlanPermissions (xbytechat.api)'
2025-08-16 15:56:02.899 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 200 null application/json; charset=utf-8 195.0543ms
2025-08-16 15:56:02.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 15:56:02.904 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:56:02.906 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 15:56:02.907 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:56:02.911 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 15:56:02.915 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 15:56:02.917 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 8.0695ms
2025-08-16 15:56:02.918 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 15:56:02.919 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 200 null application/json; charset=utf-8 17.1652ms
2025-08-16 15:58:46.625 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.039a6e65777328093719.hot-update.json - null null
2025-08-16 15:58:46.630 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.039a6e65777328093719.hot-update.json - 404 0 null 4.9829ms
2025-08-16 15:58:46.647 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.039a6e65777328093719.hot-update.json, Response status code: 404
2025-08-16 15:58:46.704 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/main.039a6e65777328093719.hot-update.json - null null
2025-08-16 15:58:46.709 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/main.039a6e65777328093719.hot-update.json - 404 0 null 4.8656ms
2025-08-16 15:58:46.713 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/main.039a6e65777328093719.hot-update.json, Response status code: 404
2025-08-16 15:58:47.222 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:47.225 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:47.227 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.0233ms
2025-08-16 15:58:47.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:47.234 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:47.236 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.237 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:47.240 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:47.241 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.5242ms
2025-08-16 15:58:47.246 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.247 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.0749ms
2025-08-16 15:58:47.373 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:47.377 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:47.379 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.381 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:47.387 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:47.389 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.8389ms
2025-08-16 15:58:47.391 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.393 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.5388ms
2025-08-16 15:58:47.656 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:47.659 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:47.660 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.662 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:47.664 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:47.665 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.0718ms
2025-08-16 15:58:47.667 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.669 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.4958ms
2025-08-16 15:58:47.854 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:47.858 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:47.860 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.862 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:47.865 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:47.868 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.1039ms
2025-08-16 15:58:47.869 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.871 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.3768ms
2025-08-16 15:58:47.879 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:47.883 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:47.885 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.887 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:47.890 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:47.892 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.2492ms
2025-08-16 15:58:47.894 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:47.896 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.1676ms
2025-08-16 15:58:48.080 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:48.083 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:48.085 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:48.086 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:48.089 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:48.091 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3641ms
2025-08-16 15:58:48.092 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:48.094 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.0423ms
2025-08-16 15:58:54.653 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 15:58:54.656 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:54.657 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.6531ms
2025-08-16 15:58:54.660 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 15:58:54.663 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:54.665 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:58:54.666 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 15:58:54.678 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 15:58:54.683 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 15:58:54.692 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 15:58:54.697 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 15:58:54.699 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 15:58:54.701 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 15:58:54.702 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:54.703 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 34.8613ms
2025-08-16 15:58:54.704 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 15:58:54.705 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 45.7275ms
2025-08-16 15:58:54.709 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:54.711 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:54.712 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.5114ms
2025-08-16 15:58:54.716 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:54.718 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:54.719 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:54.720 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:54.722 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:54.724 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.7029ms
2025-08-16 15:58:54.725 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:54.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.2055ms
2025-08-16 15:58:54.731 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:58:54.734 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:58:54.735 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:54.736 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:58:54.738 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:58:54.739 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.6254ms
2025-08-16 15:58:54.741 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:58:54.742 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.5236ms
2025-08-16 15:59:41.643 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:41.645 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:41.646 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.1903ms
2025-08-16 15:59:41.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:41.656 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:41.658 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:41.659 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:59:41.661 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:59:41.663 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8311ms
2025-08-16 15:59:41.664 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:41.665 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.3637ms
2025-08-16 15:59:41.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:41.703 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:41.705 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:41.706 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:59:41.709 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:59:41.711 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.1221ms
2025-08-16 15:59:41.713 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:41.714 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.8195ms
2025-08-16 15:59:47.288 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:47.292 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:47.293 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.5294ms
2025-08-16 15:59:47.296 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:47.299 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:47.300 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:47.301 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:59:47.303 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:59:47.305 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.9783ms
2025-08-16 15:59:47.306 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:47.307 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.6495ms
2025-08-16 15:59:47.325 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:47.329 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:47.331 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:47.333 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:59:47.336 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:59:47.346 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.8794ms
2025-08-16 15:59:47.349 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:47.350 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 25.3444ms
2025-08-16 15:59:56.448 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:56.451 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:56.452 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.4988ms
2025-08-16 15:59:56.455 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:56.457 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:56.459 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:56.460 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:59:56.462 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:59:56.464 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.1702ms
2025-08-16 15:59:56.465 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:56.466 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.0595ms
2025-08-16 15:59:56.501 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 15:59:56.505 +05:30 [INF] CORS policy execution successful.
2025-08-16 15:59:56.506 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:56.507 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 15:59:56.510 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 15:59:56.512 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.8674ms
2025-08-16 15:59:56.514 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 15:59:56.515 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.1826ms
2025-08-16 16:02:02.199 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.204 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.205 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.4995ms
2025-08-16 16:02:02.219 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.225 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.227 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.229 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:02.233 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:02.236 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.9652ms
2025-08-16 16:02:02.238 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.240 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.5048ms
2025-08-16 16:02:02.377 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.396 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.398 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.400 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:02.404 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:02.406 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.2063ms
2025-08-16 16:02:02.411 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.413 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.1275ms
2025-08-16 16:02:02.435 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.440 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.446 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.449 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:02.453 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:02.456 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.939ms
2025-08-16 16:02:02.458 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.462 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 27.5055ms
2025-08-16 16:02:02.670 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.675 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.678 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.681 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:02.686 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:02.689 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 4.5045ms
2025-08-16 16:02:02.693 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.696 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.0351ms
2025-08-16 16:02:02.704 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.708 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.711 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.713 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:02.717 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:02.719 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.034ms
2025-08-16 16:02:02.722 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.725 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.407ms
2025-08-16 16:02:02.839 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:02.843 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:02.845 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.847 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:02.850 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:02.852 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.7543ms
2025-08-16 16:02:02.855 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:02.857 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.5238ms
2025-08-16 16:02:03.048 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:03.053 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:03.056 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:03.058 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:03.063 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:03.066 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.79ms
2025-08-16 16:02:03.068 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:03.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.2197ms
2025-08-16 16:02:03.115 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:03.119 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:03.121 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:03.123 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:03.127 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:03.129 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.278ms
2025-08-16 16:02:03.131 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:03.133 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.046ms
2025-08-16 16:02:11.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 16:02:11.902 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:11.903 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.3716ms
2025-08-16 16:02:11.906 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 16:02:11.909 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:11.910 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:02:11.911 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 16:02:11.913 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 16:02:12.091 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 16:02:12.095 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 16:02:12.099 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 16:02:12.100 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 16:02:12.101 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 16:02:12.102 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:12.103 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 190.7633ms
2025-08-16 16:02:12.104 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:02:12.105 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 199.0619ms
2025-08-16 16:02:12.108 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:12.110 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:12.111 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 2.7058ms
2025-08-16 16:02:12.114 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:12.116 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:12.117 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:12.118 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:12.120 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:12.121 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.5149ms
2025-08-16 16:02:12.122 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:12.123 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 8.8029ms
2025-08-16 16:02:12.129 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:12.131 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:12.132 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:12.133 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:12.135 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:12.136 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8408ms
2025-08-16 16:02:12.137 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:12.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 9.2833ms
2025-08-16 16:02:22.692 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:22.695 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:22.696 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.5348ms
2025-08-16 16:02:22.701 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:22.703 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:22.704 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:22.705 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:22.707 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:22.708 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.6847ms
2025-08-16 16:02:22.710 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:22.711 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.3686ms
2025-08-16 16:02:22.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:22.796 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:22.798 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:22.799 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:22.803 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:22.804 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.1847ms
2025-08-16 16:02:22.806 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:22.807 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.7999ms
2025-08-16 16:02:24.417 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:24.420 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:24.421 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:24.422 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:24.424 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:24.426 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3842ms
2025-08-16 16:02:24.428 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:24.429 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.493ms
2025-08-16 16:02:24.466 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:24.469 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:24.471 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:24.472 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:24.475 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:24.476 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3298ms
2025-08-16 16:02:24.478 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:24.480 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.7944ms
2025-08-16 16:02:26.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:26.104 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:26.105 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:26.106 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:26.108 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:26.110 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.6704ms
2025-08-16 16:02:26.111 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:26.112 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.0315ms
2025-08-16 16:02:26.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:02:26.137 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:02:26.138 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:26.140 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:02:26.143 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:02:26.145 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.1333ms
2025-08-16 16:02:26.147 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:02:26.149 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.5931ms
2025-08-16 16:40:14.846 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 16:40:14.853 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:40:14.854 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.7933ms
2025-08-16 16:40:14.862 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 16:40:14.865 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:40:14.866 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:40:14.867 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 16:40:14.871 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 16:40:14.952 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 16:40:14.956 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 16:40:14.958 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 16:40:14.960 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:40:14.962 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 92.4806ms
2025-08-16 16:40:14.964 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:40:14.965 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 103.2169ms
2025-08-16 16:40:14.969 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:40:14.972 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:40:14.973 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.0033ms
2025-08-16 16:40:14.978 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:40:14.981 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:40:14.982 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:40:14.984 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:40:14.986 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:40:14.988 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.1311ms
2025-08-16 16:40:14.989 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:40:14.991 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.0193ms
2025-08-16 16:40:15.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:40:15.003 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:40:15.005 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:40:15.006 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:40:15.008 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:40:15.010 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8048ms
2025-08-16 16:40:15.011 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:40:15.012 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.9753ms
2025-08-16 16:41:06.633 +05:30 [INF] User profile is available. Using 'C:\Users\sunde\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-16 16:41:06.686 +05:30 [INF] 🚀 Webhook Queue Worker started.
2025-08-16 16:41:06.705 +05:30 [INF] 🧹 FailedWebhookLogCleanupService started.
2025-08-16 16:41:07.526 +05:30 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-08-16 16:41:08.051 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 16:41:08.253 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 16:41:08.255 +05:30 [INF] Now listening on: http://localhost:7113
2025-08-16 16:41:08.258 +05:30 [INF] Now listening on: http://localhost:5295
2025-08-16 16:41:08.259 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-08-16 16:41:08.259 +05:30 [INF] Hosting environment: Development
2025-08-16 16:41:08.260 +05:30 [INF] Content root path: D:\xbytechat\xbytechat-api\xbytechat-api
2025-08-16 16:41:08.271 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__cutoff_0='2025-08-09T11:11:06.8139176Z' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
WHERE f."CreatedAt" < @__cutoff_0
2025-08-16 16:41:10.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/index.html - null null
2025-08-16 16:41:10.513 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/index.html - 200 null text/html;charset=utf-8 181.457ms
2025-08-16 16:41:10.533 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - null null
2025-08-16 16:41:10.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.0833ms
2025-08-16 16:41:10.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/_vs/browserLink - null null
2025-08-16 16:41:10.655 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.784ms
2025-08-16 16:41:10.823 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - null null
2025-08-16 16:41:11.049 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 225.8253ms
2025-08-16 16:41:16.238 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:41:16.248 +05:30 [WRN] Failed to determine the https port for redirect.
2025-08-16 16:41:16.294 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:16.298 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 59.7477ms
2025-08-16 16:41:16.301 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:41:16.311 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:16.474 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:16.491 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:41:16.506 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:41:16.527 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 29.4354ms
2025-08-16 16:41:16.529 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:16.531 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 229.6656ms
2025-08-16 16:41:16.545 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:41:16.549 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:16.552 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:16.553 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:41:16.556 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:41:16.558 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.228ms
2025-08-16 16:41:16.560 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:16.561 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.3252ms
2025-08-16 16:41:23.418 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 16:41:23.422 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:23.423 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.993ms
2025-08-16 16:41:23.427 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 16:41:23.430 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:23.433 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:41:23.440 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 16:41:23.507 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 16:41:23.574 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 16:41:23.659 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 16:41:23.664 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 16:41:23.669 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:41:23.672 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 231.021ms
2025-08-16 16:41:23.675 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:41:23.681 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 254.4697ms
2025-08-16 16:41:23.685 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:41:23.688 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:23.689 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.4942ms
2025-08-16 16:41:23.692 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:41:23.694 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:23.697 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:23.698 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:41:23.704 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:41:23.705 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 5.142ms
2025-08-16 16:41:23.707 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:23.708 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.149ms
2025-08-16 16:41:23.714 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:41:23.716 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:41:23.717 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:23.719 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:41:23.721 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:41:23.722 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.9858ms
2025-08-16 16:41:23.724 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:41:23.725 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.1151ms
2025-08-16 16:42:34.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:42:34.874 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:42:34.876 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 6.5281ms
2025-08-16 16:42:34.885 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:42:34.888 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:42:34.890 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:34.892 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:42:34.894 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:42:34.896 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.8064ms
2025-08-16 16:42:34.898 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:34.899 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.7432ms
2025-08-16 16:42:34.908 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:42:34.911 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:42:34.912 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:34.913 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:42:34.916 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:42:34.917 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.9839ms
2025-08-16 16:42:34.919 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:34.920 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.8756ms
2025-08-16 16:42:44.505 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:42:44.511 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:42:44.512 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 7.3052ms
2025-08-16 16:42:44.517 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:42:44.524 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:42:44.526 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:44.528 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:42:44.532 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:42:44.535 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.3612ms
2025-08-16 16:42:44.548 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:44.554 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 36.7511ms
2025-08-16 16:42:44.595 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:42:44.607 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:42:44.610 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:44.613 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:42:44.618 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:42:44.623 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 5.6636ms
2025-08-16 16:42:44.626 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:42:44.628 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 33.2662ms
2025-08-16 16:50:01.355 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 16:50:01.359 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 16:50:01.367 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:01.370 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:01.371 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 17.1618ms
2025-08-16 16:50:01.372 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 14.1313ms
2025-08-16 16:50:01.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 16:50:01.386 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 16:50:01.389 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:01.392 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:01.393 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 16:50:01.393 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 16:50:01.398 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 16:50:01.399 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:50:01.537 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 16:50:01.548 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 16:50:01.561 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 158.866ms
2025-08-16 16:50:01.563 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 16:50:01.564 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 178.1341ms
2025-08-16 16:50:01.572 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 16:50:01.577 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:01.578 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 5.968ms
2025-08-16 16:50:01.585 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 16:50:01.589 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:01.591 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 16:50:01.598 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:50:01.624 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__planId_0='3e92e204-cda8-4128-94c6-ac1e977e1152'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 16:50:01.647 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 16:50:01.698 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 97.7166ms
2025-08-16 16:50:01.700 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 16:50:01.701 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 116.6491ms
2025-08-16 16:50:01.757 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 16:50:01.767 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 16:50:01.775 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 374.8719ms
2025-08-16 16:50:01.777 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 16:50:01.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 395.9875ms
2025-08-16 16:50:09.104 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-08-16 16:50:09.109 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:09.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 6.0648ms
2025-08-16 16:50:09.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-08-16 16:50:09.123 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:50:09.125 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-08-16 16:50:09.132 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-08-16 16:50:09.213 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 77.7252ms
2025-08-16 16:50:09.215 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-08-16 16:50:09.248 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings() in D:\xbytechat\xbytechat-api\xbytechat-api\WhatsAppSettings\Controllers\WhatsAppSettingsController.cs:line 85
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 16:50:09.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 500 null application/json; charset=utf-8 192.6062ms
2025-08-16 16:50:12.390 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/users/by-business - null null
2025-08-16 16:50:12.391 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/permissions - null null
2025-08-16 16:50:12.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/users/by-business - 404 0 null 9.8677ms
2025-08-16 16:50:12.401 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/permissions - 404 0 null 10.4284ms
2025-08-16 16:50:12.408 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/users/by-business, Response status code: 404
2025-08-16 16:50:12.412 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/permissions, Response status code: 404
2025-08-16 16:53:17.855 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:17.862 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:17.864 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 8.3744ms
2025-08-16 16:53:17.871 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:17.874 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:17.875 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:17.876 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:17.879 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:17.881 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.4597ms
2025-08-16 16:53:17.882 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:17.884 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.4717ms
2025-08-16 16:53:17.893 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:17.897 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:17.899 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:17.900 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:17.904 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:17.906 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.4616ms
2025-08-16 16:53:17.908 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:17.909 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.9673ms
2025-08-16 16:53:20.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:20.617 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:20.618 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:20.619 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:20.621 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:20.622 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.6109ms
2025-08-16 16:53:20.623 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:20.624 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.2259ms
2025-08-16 16:53:20.678 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:20.682 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:20.684 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:20.687 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:20.690 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:20.692 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.5485ms
2025-08-16 16:53:20.696 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:20.698 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 19.9202ms
2025-08-16 16:53:25.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:25.816 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:25.817 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.5741ms
2025-08-16 16:53:25.820 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:25.823 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:25.824 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:25.826 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:25.827 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:25.829 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8972ms
2025-08-16 16:53:25.830 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:25.831 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.9817ms
2025-08-16 16:53:25.967 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:25.971 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:25.972 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:25.974 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:25.979 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:25.981 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 3.5889ms
2025-08-16 16:53:25.986 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:25.988 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 21.0815ms
2025-08-16 16:53:30.827 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 16:53:30.830 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:30.831 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 4.1616ms
2025-08-16 16:53:30.834 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 16:53:30.836 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:30.838 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:53:30.839 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 16:53:30.844 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 16:53:30.850 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 16:53:30.855 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 16:53:30.856 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 16:53:30.858 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:30.859 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 18.138ms
2025-08-16 16:53:30.860 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:53:30.861 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 27.3394ms
2025-08-16 16:53:30.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:30.867 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:30.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6558ms
2025-08-16 16:53:30.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:30.875 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:30.877 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:30.879 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:30.883 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:30.885 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.5853ms
2025-08-16 16:53:30.887 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:30.889 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 16.9917ms
2025-08-16 16:53:30.897 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:30.901 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:30.902 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:30.903 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:30.906 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:30.907 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8613ms
2025-08-16 16:53:30.908 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:30.909 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.3389ms
2025-08-16 16:53:52.247 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:52.250 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:52.251 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.7834ms
2025-08-16 16:53:52.260 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:52.263 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:52.265 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:52.266 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:52.268 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:52.270 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.6105ms
2025-08-16 16:53:52.272 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:52.273 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.1876ms
2025-08-16 16:53:52.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:52.388 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:52.389 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:52.391 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:52.393 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:52.394 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.7999ms
2025-08-16 16:53:52.396 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:52.397 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.0399ms
2025-08-16 16:53:56.486 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 16:53:56.490 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:56.491 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 5.0315ms
2025-08-16 16:53:56.494 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 16:53:56.497 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:56.498 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:53:56.500 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 16:53:56.510 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 16:53:56.515 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 16:53:56.519 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 16:53:56.521 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 16:53:56.523 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:56.525 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 23.1288ms
2025-08-16 16:53:56.527 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 16:53:56.529 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 35.1953ms
2025-08-16 16:53:56.535 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:56.538 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:56.540 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:56.543 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:56.547 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:56.549 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.6056ms
2025-08-16 16:53:56.551 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:56.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.6523ms
2025-08-16 16:53:56.560 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:53:56.563 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:53:56.565 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:56.566 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:53:56.568 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:53:56.570 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.9353ms
2025-08-16 16:53:56.571 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:53:56.572 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.1884ms
2025-08-16 16:54:15.377 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-16 16:54:15.381 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:15.382 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - 204 null null 5.1855ms
2025-08-16 16:54:15.386 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-16 16:54:15.389 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:15.390 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-16 16:54:15.395 +05:30 [INF] Route matched with {action = "GetRecentLogs", controller = "CatalogTracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentLogs(Int32) on controller xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController (xbytechat.api).
2025-08-16 16:54:15.426 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BotId", c."BusinessId", c."ButtonText", c."CTAJourney", c."CampaignId", c."CampaignSendLogId", c."CategoryBrowsed", c."ClickedAt", c."ContactId", c."CtaId", c."FollowUpSent", c."LastInteractionType", c."MessageLogId", c."PlanSnapshot", c."ProductBrowsed", c."ProductId", c."RefMessageId", c."Source", c."TemplateId", c."UserId", c."UserName", c."UserPhone"
FROM "CatalogClickLogs" AS c
ORDER BY c."ClickedAt" DESC
LIMIT @__p_0
2025-08-16 16:54:15.430 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 16:54:15.433 +05:30 [INF] Executed action xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api) in 36.2348ms
2025-08-16 16:54:15.435 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-16 16:54:15.437 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - 200 null application/json; charset=utf-8 51.0258ms
2025-08-16 16:54:16.744 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/failed-webhooks - null null
2025-08-16 16:54:16.748 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:16.750 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/failed-webhooks - 204 null null 5.9306ms
2025-08-16 16:54:16.755 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/failed-webhooks - null null
2025-08-16 16:54:16.759 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:16.760 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api)'
2025-08-16 16:54:16.765 +05:30 [INF] Route matched with {action = "GetAll", controller = "FailedWebhookLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync() on controller xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController (xbytechat.api).
2025-08-16 16:54:16.778 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='100'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
ORDER BY f."CreatedAt" DESC
LIMIT @__p_0
2025-08-16 16:54:16.782 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.Webhooks.Models.FailedWebhookLog, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 16:54:16.785 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api) in 16.8214ms
2025-08-16 16:54:16.786 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api)'
2025-08-16 16:54:16.788 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/failed-webhooks - 200 null application/json; charset=utf-8 32.9663ms
2025-08-16 16:54:17.685 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/settings - null null
2025-08-16 16:54:17.686 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/failed/count - null null
2025-08-16 16:54:17.694 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:17.698 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/settings - 204 null null 13.5458ms
2025-08-16 16:54:17.699 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:17.703 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/failed/count - 204 null null 16.8955ms
2025-08-16 16:54:17.710 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/webhooks/settings - null null
2025-08-16 16:54:17.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/webhooks/failed/count - null null
2025-08-16 16:54:17.714 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:17.718 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:17.719 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api)'
2025-08-16 16:54:17.720 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api)'
2025-08-16 16:54:17.725 +05:30 [INF] Route matched with {action = "GetCleanupStatus", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCleanupStatus() on controller xbytechat.api.Features.Webhooks.Controllers.MaintenanceController (xbytechat.api).
2025-08-16 16:54:17.726 +05:30 [INF] Route matched with {action = "GetFailedCount", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFailedCount() on controller xbytechat.api.Features.Webhooks.Controllers.MaintenanceController (xbytechat.api).
2025-08-16 16:54:17.732 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 16:54:17.740 +05:30 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-08-16 16:54:17.752 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 16:54:17.761 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "FailedWebhookLogs" AS f
2025-08-16 16:54:17.767 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:54:17.771 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-08-16 16:54:17.774 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api) in 47.022ms
2025-08-16 16:54:17.776 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api)'
2025-08-16 16:54:17.777 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api) in 46.8063ms
2025-08-16 16:54:17.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/webhooks/settings - 200 null application/json; charset=utf-8 68.6198ms
2025-08-16 16:54:17.780 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api)'
2025-08-16 16:54:17.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/webhooks/failed/count - 200 null application/json; charset=utf-8 76.0795ms
2025-08-16 16:54:18.612 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 16:54:18.617 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:18.618 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 5.9414ms
2025-08-16 16:54:18.619 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 16:54:18.628 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:18.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 10.8338ms
2025-08-16 16:54:18.635 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 16:54:18.636 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 16:54:18.639 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:18.642 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:18.644 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 16:54:18.644 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 16:54:18.646 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:54:18.647 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 16:54:18.654 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 16:54:18.658 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 16:54:18.660 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 16:54:18.663 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 16:54:18.664 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 14.7023ms
2025-08-16 16:54:18.666 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 14.297ms
2025-08-16 16:54:18.667 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 16:54:18.669 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 16:54:18.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 34.8079ms
2025-08-16 16:54:18.671 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 35.4781ms
2025-08-16 16:54:18.678 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 16:54:18.680 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:18.681 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 3.7392ms
2025-08-16 16:54:18.685 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 16:54:18.688 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:18.690 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 16:54:18.691 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:54:18.693 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 16:54:18.695 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 1.9812ms
2025-08-16 16:54:18.696 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 16:54:18.698 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 12.3465ms
2025-08-16 16:54:20.808 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - null null
2025-08-16 16:54:20.811 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:20.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/whatsappsettings/me - 204 null null 5.4955ms
2025-08-16 16:54:20.817 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - null null
2025-08-16 16:54:20.821 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:54:20.823 +05:30 [INF] Executing endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-08-16 16:54:20.825 +05:30 [INF] Route matched with {action = "GetMySettings", controller = "WhatsAppSettings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMySettings() on controller xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController (xbytechat.api).
2025-08-16 16:54:20.895 +05:30 [INF] Executed action xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api) in 68.3352ms
2025-08-16 16:54:20.897 +05:30 [INF] Executed endpoint 'xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings (xbytechat.api)'
2025-08-16 16:54:20.923 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat_api.WhatsAppSettings.Controllers.WhatsAppSettingsController.GetMySettings() in D:\xbytechat\xbytechat-api\xbytechat-api\WhatsAppSettings\Controllers\WhatsAppSettingsController.cs:line 85
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 16:54:20.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/whatsappsettings/me - 500 null application/json; charset=utf-8 111.6759ms
2025-08-16 16:54:22.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/users/by-business - null null
2025-08-16 16:54:22.003 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/permissions - null null
2025-08-16 16:54:22.005 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/users/by-business - 404 0 null 2.3157ms
2025-08-16 16:54:22.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/permissions - 404 0 null 4.1282ms
2025-08-16 16:54:22.010 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/users/by-business, Response status code: 404
2025-08-16 16:54:22.014 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/permissions, Response status code: 404
2025-08-16 16:55:33.864 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.865 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.873 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.876 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.877 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 12.444ms
2025-08-16 16:55:33.884 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 18.881ms
2025-08-16 16:55:33.885 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.892 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.897 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.900 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.900 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 15.3726ms
2025-08-16 16:55:33.901 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.906 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:55:33.908 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:55:33.910 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.0456ms
2025-08-16 16:55:33.911 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.911 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.913 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.914 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.5822ms
2025-08-16 16:55:33.915 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.919 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:55:33.922 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:55:33.923 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.4195ms
2025-08-16 16:55:33.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.925 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.928 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.930 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 18.8897ms
2025-08-16 16:55:33.931 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.936 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:55:33.939 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:55:33.940 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8182ms
2025-08-16 16:55:33.942 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.942 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.944 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.945 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.8607ms
2025-08-16 16:55:33.947 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.950 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:55:33.952 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:55:33.954 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.9454ms
2025-08-16 16:55:33.955 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.955 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.958 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.2351ms
2025-08-16 16:55:33.960 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.964 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:55:33.966 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:55:33.967 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.5948ms
2025-08-16 16:55:33.968 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 16:55:33.968 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.971 +05:30 [INF] CORS policy execution successful.
2025-08-16 16:55:33.972 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.0824ms
2025-08-16 16:55:33.973 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.976 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 16:55:33.979 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 16:55:33.980 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.7567ms
2025-08-16 16:55:33.981 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 16:55:33.982 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.7175ms
2025-08-16 16:55:34.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/permissions - null null
2025-08-16 16:55:34.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/users/by-business - null null
2025-08-16 16:55:34.049 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/permissions - 404 0 null 14.5365ms
2025-08-16 16:55:34.055 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/users/by-business - 404 0 null 19.9056ms
2025-08-16 16:55:34.061 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/permissions, Response status code: 404
2025-08-16 16:55:34.064 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/users/by-business, Response status code: 404
2025-08-16 17:06:00.950 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:00.954 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:00.955 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.0527ms
2025-08-16 17:06:00.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:00.964 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:00.965 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:00.966 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 17:06:00.969 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:00.970 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.2777ms
2025-08-16 17:06:00.972 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:00.973 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.8179ms
2025-08-16 17:06:01.008 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:01.012 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:01.013 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:01.015 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 17:06:01.017 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:01.019 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3638ms
2025-08-16 17:06:01.021 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:01.022 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.1975ms
2025-08-16 17:06:09.965 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:09.968 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:09.969 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.9582ms
2025-08-16 17:06:09.971 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:09.974 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:09.975 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:09.976 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 17:06:09.979 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:09.981 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.0868ms
2025-08-16 17:06:09.982 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:09.983 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.7554ms
2025-08-16 17:06:10.093 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:10.097 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:10.098 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:10.100 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 17:06:10.105 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:10.107 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.6688ms
2025-08-16 17:06:10.108 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:10.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.2841ms
2025-08-16 17:06:15.673 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 17:06:15.676 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:15.677 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.5032ms
2025-08-16 17:06:15.680 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 17:06:15.682 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:15.683 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 17:06:15.684 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 17:06:15.687 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 17:06:15.761 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 17:06:15.763 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 17:06:15.764 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 17:06:15.765 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:15.767 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 80.7901ms
2025-08-16 17:06:15.768 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 17:06:15.769 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 88.4487ms
2025-08-16 17:06:15.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:15.774 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:15.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.023ms
2025-08-16 17:06:15.778 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:15.780 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:15.781 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:15.782 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 17:06:15.784 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:15.785 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.4253ms
2025-08-16 17:06:15.786 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:15.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 9.0792ms
2025-08-16 17:06:15.793 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 17:06:15.795 +05:30 [INF] CORS policy execution successful.
2025-08-16 17:06:15.796 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:15.797 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 17:06:15.799 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 17:06:15.800 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.4397ms
2025-08-16 17:06:15.802 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 17:06:15.802 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 9.9087ms
2025-08-16 18:02:54.239 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:02:54.246 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:02:54.255 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:02:54.261 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:02:54.263 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 23.9907ms
2025-08-16 18:02:54.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 20.3908ms
2025-08-16 18:02:54.272 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:02:54.280 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:02:54.282 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.283 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:02:54.286 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:02:54.288 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.5159ms
2025-08-16 18:02:54.289 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:02:54.290 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.293 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:02:54.294 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 22.0076ms
2025-08-16 18:02:54.296 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.300 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:02:54.303 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:02:54.305 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.5395ms
2025-08-16 18:02:54.308 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 20.006ms
2025-08-16 18:02:54.381 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:02:54.386 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:02:54.389 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.391 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:02:54.396 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:02:54.398 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.7917ms
2025-08-16 18:02:54.400 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:02:54.404 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.410 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:02:54.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 29.8594ms
2025-08-16 18:02:54.412 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.418 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:02:54.421 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:02:54.423 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.4423ms
2025-08-16 18:02:54.425 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:02:54.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 26.8459ms
2025-08-16 18:07:47.987 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 18:07:47.994 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:07:47.995 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 8.0256ms
2025-08-16 18:07:48.004 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 18:07:48.007 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:07:48.008 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 18:07:48.010 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 18:07:48.018 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 18:07:48.122 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 18:07:48.125 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 18:07:48.127 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 18:07:48.128 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:07:48.129 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 117.3175ms
2025-08-16 18:07:48.131 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 18:07:48.132 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 128.2747ms
2025-08-16 18:07:48.135 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:07:48.138 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:07:48.139 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.0955ms
2025-08-16 18:07:48.142 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:07:48.145 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:07:48.146 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:07:48.148 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:07:48.150 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:07:48.152 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.1016ms
2025-08-16 18:07:48.154 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:07:48.155 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.8944ms
2025-08-16 18:07:48.159 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:07:48.163 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:07:48.164 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:07:48.165 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:07:48.167 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:07:48.169 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8947ms
2025-08-16 18:07:48.170 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:07:48.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.1547ms
2025-08-16 18:08:00.587 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-16 18:08:00.603 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:00.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/catalog-tracking/recent?limit=10 - 204 null null 18.0104ms
2025-08-16 18:08:00.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - null null
2025-08-16 18:08:00.618 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:00.619 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-16 18:08:00.621 +05:30 [INF] Route matched with {action = "GetRecentLogs", controller = "CatalogTracking"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentLogs(Int32) on controller xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController (xbytechat.api).
2025-08-16 18:08:00.634 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='10'], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."BotId", c."BusinessId", c."ButtonText", c."CTAJourney", c."CampaignId", c."CampaignSendLogId", c."CategoryBrowsed", c."ClickedAt", c."ContactId", c."CtaId", c."FollowUpSent", c."LastInteractionType", c."MessageLogId", c."PlanSnapshot", c."ProductBrowsed", c."ProductId", c."RefMessageId", c."Source", c."TemplateId", c."UserId", c."UserName", c."UserPhone"
FROM "CatalogClickLogs" AS c
ORDER BY c."ClickedAt" DESC
LIMIT @__p_0
2025-08-16 18:08:00.637 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 18:08:00.640 +05:30 [INF] Executed action xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api) in 15.8213ms
2025-08-16 18:08:00.642 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Catalog.Controllers.CatalogTrackingController.GetRecentLogs (xbytechat.api)'
2025-08-16 18:08:00.643 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/catalog-tracking/recent?limit=10 - 200 null application/json; charset=utf-8 29.6015ms
2025-08-16 18:08:01.263 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/failed-webhooks - null null
2025-08-16 18:08:01.267 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:01.268 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/failed-webhooks - 204 null null 5.2226ms
2025-08-16 18:08:01.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/failed-webhooks - null null
2025-08-16 18:08:01.276 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:01.277 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api)'
2025-08-16 18:08:01.279 +05:30 [INF] Route matched with {action = "GetAll", controller = "FailedWebhookLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAsync() on controller xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController (xbytechat.api).
2025-08-16 18:08:01.286 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='100'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."ErrorMessage", f."FailureType", f."RawJson", f."SourceModule"
FROM "FailedWebhookLogs" AS f
ORDER BY f."CreatedAt" DESC
LIMIT @__p_0
2025-08-16 18:08:01.290 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.Webhooks.Models.FailedWebhookLog, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:08:01.292 +05:30 [INF] Executed action xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api) in 10.2984ms
2025-08-16 18:08:01.294 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Tracking.Controllers.FailedWebhookLogsController.GetAllAsync (xbytechat.api)'
2025-08-16 18:08:01.296 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/failed-webhooks - 200 null application/json; charset=utf-8 23.1499ms
2025-08-16 18:08:03.716 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/settings - null null
2025-08-16 18:08:03.720 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/failed/count - null null
2025-08-16 18:08:03.721 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:03.729 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:03.730 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/settings - 204 null null 14.5026ms
2025-08-16 18:08:03.731 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/webhooks/failed/count - 204 null null 11.1259ms
2025-08-16 18:08:03.739 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/webhooks/failed/count - null null
2025-08-16 18:08:03.740 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/webhooks/settings - null null
2025-08-16 18:08:03.744 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:03.747 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:03.748 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api)'
2025-08-16 18:08:03.748 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api)'
2025-08-16 18:08:03.750 +05:30 [INF] Route matched with {action = "GetFailedCount", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFailedCount() on controller xbytechat.api.Features.Webhooks.Controllers.MaintenanceController (xbytechat.api).
2025-08-16 18:08:03.751 +05:30 [INF] Route matched with {action = "GetCleanupStatus", controller = "Maintenance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCleanupStatus() on controller xbytechat.api.Features.Webhooks.Controllers.MaintenanceController (xbytechat.api).
2025-08-16 18:08:03.759 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "FailedWebhookLogs" AS f
2025-08-16 18:08:03.768 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Int32'.
2025-08-16 18:08:03.772 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api) in 18.9774ms
2025-08-16 18:08:03.774 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetFailedCount (xbytechat.api)'
2025-08-16 18:08:03.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/webhooks/failed/count - 200 null application/json; charset=utf-8 36.9089ms
2025-08-16 18:08:03.961 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."Id", w."AutoCleanupEnabled", w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 18:08:03.965 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT w."LastCleanupAt"
FROM "WebhookSettings" AS w
LIMIT 1
2025-08-16 18:08:03.968 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType74`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:08:03.969 +05:30 [INF] Executed action xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api) in 212.8584ms
2025-08-16 18:08:03.971 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Webhooks.Controllers.MaintenanceController.GetCleanupStatus (xbytechat.api)'
2025-08-16 18:08:03.972 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/webhooks/settings - 200 null application/json; charset=utf-8 232.5705ms
2025-08-16 18:08:04.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 18:08:04.163 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:04.164 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 5.5102ms
2025-08-16 18:08:04.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:08:04.171 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:04.172 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 5.4602ms
2025-08-16 18:08:04.179 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 18:08:04.179 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:08:04.182 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:04.185 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:04.187 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:08:04.187 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:08:04.188 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:08:04.190 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 18:08:04.196 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 18:08:04.201 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:08:04.207 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 18:08:04.211 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 19.2158ms
2025-08-16 18:08:04.216 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 18:08:04.216 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:08:04.220 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 24.0099ms
2025-08-16 18:08:04.221 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 42.1309ms
2025-08-16 18:08:04.223 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:08:04.228 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:08:04.230 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 51.0364ms
2025-08-16 18:08:04.233 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:04.239 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 10.6072ms
2025-08-16 18:08:04.243 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:08:04.247 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:04.248 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:08:04.250 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:08:04.260 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__planId_0='3e92e204-cda8-4128-94c6-ac1e977e1152'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 18:08:04.263 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:08:04.265 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 12.0508ms
2025-08-16 18:08:04.267 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:08:04.268 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 25.2472ms
2025-08-16 18:08:08.311 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 18:08:08.313 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:08.314 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 204 null null 3.0907ms
2025-08-16 18:08:08.317 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 18:08:08.319 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:08.320 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:08:08.321 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:08:08.326 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 18:08:08.329 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:08:08.330 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 7.7995ms
2025-08-16 18:08:08.332 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:08:08.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 200 null application/json; charset=utf-8 15.9915ms
2025-08-16 18:08:08.356 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - null null
2025-08-16 18:08:08.358 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:08:08.359 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:08:08.360 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:08:08.362 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:08:08.363 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 1.6152ms
2025-08-16 18:08:08.364 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:08:08.365 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/b1ed0526-abd0-472f-a9ea-5bfebeeffe41/permissions - 200 null application/json; charset=utf-8 9.7457ms
2025-08-16 18:10:55.335 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 18:10:55.345 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.346 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 10.559ms
2025-08-16 18:10:55.354 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 18:10:55.356 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.358 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 18:10:55.359 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 18:10:55.363 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 18:10:55.367 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 18:10:55.409 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 18:10:55.496 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 18:10:55.499 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 18:10:55.500 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 18:10:55.502 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:10:55.504 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 142.1413ms
2025-08-16 18:10:55.505 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 18:10:55.506 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 152.6257ms
2025-08-16 18:10:55.509 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:10:55.512 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.513 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.4107ms
2025-08-16 18:10:55.517 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:10:55.520 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.522 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:55.523 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:55.527 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:10:55.532 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 6.3956ms
2025-08-16 18:10:55.534 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:55.535 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.7797ms
2025-08-16 18:10:55.540 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:10:55.542 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.543 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:55.545 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:55.547 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:10:55.549 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.2625ms
2025-08-16 18:10:55.551 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:55.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 12.4973ms
2025-08-16 18:10:55.770 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 18:10:55.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:10:55.782 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.779 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.783 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 11.9707ms
2025-08-16 18:10:55.784 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 14.0057ms
2025-08-16 18:10:55.791 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 18:10:55.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:10:55.796 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.799 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.800 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:10:55.801 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:10:55.802 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:55.803 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 18:10:55.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 18:10:55.812 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 18:10:55.814 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:10:55.817 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 18:10:55.818 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 12.7673ms
2025-08-16 18:10:55.819 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 11.0217ms
2025-08-16 18:10:55.821 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:10:55.822 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:10:55.824 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 32.5457ms
2025-08-16 18:10:55.825 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 32.4806ms
2025-08-16 18:10:55.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:10:55.835 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.836 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 3.8451ms
2025-08-16 18:10:55.840 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:10:55.843 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:55.844 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:10:55.845 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:55.848 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:10:55.849 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 1.9923ms
2025-08-16 18:10:55.851 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:10:55.852 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 11.8829ms
2025-08-16 18:10:59.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:10:59.635 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:59.637 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:59.638 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:59.641 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:10:59.643 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3209ms
2025-08-16 18:10:59.645 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:59.646 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 15.4121ms
2025-08-16 18:10:59.731 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:10:59.735 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:59.737 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:59.739 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:59.742 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:10:59.743 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.2906ms
2025-08-16 18:10:59.745 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:10:59.746 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.9424ms
2025-08-16 18:10:59.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:10:59.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 18:10:59.777 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:59.781 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:59.782 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:10:59.782 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:10:59.784 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 18:10:59.785 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:59.791 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 18:10:59.794 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 18:10:59.796 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 18:10:59.799 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:10:59.799 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 12.4051ms
2025-08-16 18:10:59.801 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 10.9757ms
2025-08-16 18:10:59.802 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:10:59.804 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:10:59.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 30.5522ms
2025-08-16 18:10:59.806 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 31.8289ms
2025-08-16 18:10:59.823 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:10:59.825 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:10:59.827 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:10:59.828 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:10:59.831 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:10:59.832 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.0827ms
2025-08-16 18:10:59.835 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:10:59.837 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 14.1634ms
2025-08-16 18:11:06.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 18:11:06.602 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.603 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.8708ms
2025-08-16 18:11:06.606 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 18:11:06.609 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.611 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 18:11:06.612 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 18:11:06.615 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 18:11:06.618 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 18:11:06.621 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 18:11:06.623 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 18:11:06.625 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:11:06.627 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 13.0847ms
2025-08-16 18:11:06.628 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 18:11:06.630 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 23.5252ms
2025-08-16 18:11:06.634 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:11:06.637 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.2679ms
2025-08-16 18:11:06.644 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:11:06.648 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.649 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:11:06.651 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:11:06.654 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:11:06.656 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.6722ms
2025-08-16 18:11:06.660 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:11:06.662 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.9068ms
2025-08-16 18:11:06.667 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 18:11:06.670 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.671 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:11:06.672 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:11:06.676 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 18:11:06.678 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3054ms
2025-08-16 18:11:06.679 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 18:11:06.681 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.5937ms
2025-08-16 18:11:06.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 18:11:06.900 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:11:06.903 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.906 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 7.2525ms
2025-08-16 18:11:06.908 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 7.9311ms
2025-08-16 18:11:06.913 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 18:11:06.916 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 18:11:06.919 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.923 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.924 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:11:06.925 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:11:06.926 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 18:11:06.927 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:11:06.934 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 18:11:06.937 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 18:11:06.940 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 18:11:06.942 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:11:06.944 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 14.8308ms
2025-08-16 18:11:06.946 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 13.398ms
2025-08-16 18:11:06.948 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 18:11:06.949 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 18:11:06.951 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 38.0338ms
2025-08-16 18:11:06.952 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 35.7695ms
2025-08-16 18:11:06.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:11:06.982 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.983 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 4.5072ms
2025-08-16 18:11:06.987 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 18:11:06.990 +05:30 [INF] CORS policy execution successful.
2025-08-16 18:11:06.991 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:11:06.993 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 18:11:06.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 18:11:06.997 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.0455ms
2025-08-16 18:11:06.999 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 18:11:07.000 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 12.9566ms
2025-08-16 21:11:19.556 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 21:11:19.560 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:19.561 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 5.7966ms
2025-08-16 21:11:19.569 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 21:11:19.572 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:19.574 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:11:19.575 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 21:11:19.585 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 21:11:19.704 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 21:11:19.710 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 21:11:19.711 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 21:11:19.713 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:11:19.714 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 137.3253ms
2025-08-16 21:11:19.716 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:11:19.717 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 148.2409ms
2025-08-16 21:11:19.721 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:11:19.726 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:19.727 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.546ms
2025-08-16 21:11:19.731 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:11:19.734 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:19.736 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:11:19.737 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:11:19.739 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:11:19.741 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.2122ms
2025-08-16 21:11:19.743 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:11:19.744 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.3161ms
2025-08-16 21:11:19.749 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:11:19.752 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:19.753 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:11:19.754 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:11:19.756 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:11:19.758 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.7121ms
2025-08-16 21:11:19.759 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:11:19.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.2667ms
2025-08-16 21:11:37.620 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 21:11:37.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:11:37.625 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:37.629 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:37.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 9.3856ms
2025-08-16 21:11:37.630 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 6.7403ms
2025-08-16 21:11:37.636 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:11:37.640 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 21:11:37.644 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:37.648 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:37.649 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:11:37.650 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:11:37.652 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 21:11:37.653 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:11:37.664 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 21:11:37.671 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 21:11:37.673 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 18.1492ms
2025-08-16 21:11:37.675 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:11:37.677 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 40.3694ms
2025-08-16 21:11:37.748 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 21:11:37.750 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:11:37.752 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 93.3546ms
2025-08-16 21:11:37.753 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:11:37.755 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 114.3555ms
2025-08-16 21:11:37.758 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:11:37.761 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:37.762 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 3.5278ms
2025-08-16 21:11:37.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:11:37.768 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:37.769 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:11:37.771 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:11:37.779 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_0='3e92e204-cda8-4128-94c6-ac1e977e1152'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 21:11:37.783 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:11:37.785 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 11.1472ms
2025-08-16 21:11:37.786 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:11:37.788 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 22.4044ms
2025-08-16 21:11:59.909 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 21:11:59.912 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:59.913 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 3.1721ms
2025-08-16 21:11:59.919 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 47
2025-08-16 21:11:59.922 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:59.922 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:11:59.923 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 21:11:59.926 +05:30 [INF] 🔑 Login attempt for email: test@test.com
2025-08-16 21:11:59.948 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__dto_Email_0='test@test.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 21:11:59.954 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__user_BusinessId_Value_0='1fd4aee7-d6b6-4aa6-9c78-76e7e592341d'], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Address", b."ApprovedAt", b."ApprovedBy", b."BusinessEmail", b."BusinessName", b."CompanyName", b."CompanyPhone", b."CreatedAt", b."CreatedBy", b."CreatedByPartnerId", b."DeletedAt", b."DeletedBy", b."Industry", b."IsApproved", b."IsDeleted", b."LastLoginAt", b."LogoUrl", b."Notes", b."Phone", b."PlanId", b."RepresentativeName", b."Source", b."Status", b."Tags", b."Website", p."Id", p."Code", p."CreatedAt", p."Description", p."IsActive", p."Name"
FROM "Businesses" AS b
LEFT JOIN "Plans" AS p ON b."PlanId" = p."Id"
WHERE b."Id" = @__user_BusinessId_Value_0
LIMIT 1
2025-08-16 21:11:59.959 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__planId_Value_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Code"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_Value_0 AND p."IsActive"
2025-08-16 21:11:59.962 +05:30 [INF] ✅ Token generated for: test@test.com
2025-08-16 21:11:59.963 +05:30 [INF] ✅ Login successful for test@test.com, Role: business, PlanId: "b1ed0526-abd0-472f-a9ea-5bfebeeffe41"
2025-08-16 21:11:59.964 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:11:59.965 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 40.2768ms
2025-08-16 21:11:59.967 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:11:59.969 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 49.3273ms
2025-08-16 21:11:59.975 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:11:59.979 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:59.980 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 5.9011ms
2025-08-16 21:11:59.986 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:11:59.989 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:11:59.991 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:11:59.992 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:11:59.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__planId_0='b1ed0526-abd0-472f-a9ea-5bfebeeffe41'], CommandType='"Text"', CommandTimeout='30']
SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name"
FROM "PlanPermissions" AS p
INNER JOIN "Permissions" AS p0 ON p."PermissionId" = p0."Id"
WHERE p."PlanId" = @__planId_0 AND p."IsActive"
2025-08-16 21:12:00.002 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:12:00.004 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 9.478ms
2025-08-16 21:12:00.006 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:00.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 21.6048ms
2025-08-16 21:12:00.013 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:12:00.015 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.017 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:00.019 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:00.021 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:12:00.023 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.0234ms
2025-08-16 21:12:00.025 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:00.026 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.4154ms
2025-08-16 21:12:00.230 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 21:12:00.232 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:12:00.233 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.236 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.237 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 7.0644ms
2025-08-16 21:12:00.238 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 5.9344ms
2025-08-16 21:12:00.246 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 21:12:00.249 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:12:00.252 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.255 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.256 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:12:00.257 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:12:00.258 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:00.259 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 21:12:00.264 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 21:12:00.268 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 21:12:00.271 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:12:00.273 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 21:12:00.274 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 13.2834ms
2025-08-16 21:12:00.276 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 10.497ms
2025-08-16 21:12:00.277 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:12:00.279 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:12:00.280 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 33.922ms
2025-08-16 21:12:00.281 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 31.6467ms
2025-08-16 21:12:00.287 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:12:00.290 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.291 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 3.2764ms
2025-08-16 21:12:00.294 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:12:00.297 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:00.298 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:12:00.299 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:00.301 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:12:00.303 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 2.0319ms
2025-08-16 21:12:00.304 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:12:00.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 11.33ms
2025-08-16 21:12:03.723 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:12:03.726 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:03.727 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:03.728 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:03.730 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:12:03.732 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.1863ms
2025-08-16 21:12:03.733 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:03.734 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.5669ms
2025-08-16 21:12:03.761 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:12:03.766 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:03.768 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:03.770 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:03.773 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:12:03.775 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.3932ms
2025-08-16 21:12:03.777 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:12:03.779 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 17.4951ms
2025-08-16 21:12:03.799 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:12:03.799 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 21:12:03.803 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:03.808 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:03.809 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:12:03.810 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:12:03.811 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 21:12:03.813 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:03.820 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 21:12:03.824 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 21:12:03.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 21:12:03.830 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:12:03.831 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 14.9072ms
2025-08-16 21:12:03.833 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 11.8166ms
2025-08-16 21:12:03.835 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:12:03.836 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:12:03.837 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 38.2155ms
2025-08-16 21:12:03.839 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 39.4906ms
2025-08-16 21:12:03.851 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:12:03.854 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:12:03.855 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:12:03.857 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:12:03.859 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:12:03.861 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 1.9188ms
2025-08-16 21:12:03.864 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:12:03.865 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 13.7898ms
2025-08-16 21:22:01.358 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 21:22:01.364 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.365 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.4823ms
2025-08-16 21:22:01.373 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 21:22:01.376 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.378 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:22:01.380 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 21:22:01.383 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 21:22:01.490 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 21:22:01.492 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 21:22:01.494 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 21:22:01.495 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:22:01.497 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 114.5496ms
2025-08-16 21:22:01.498 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:22:01.499 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 126.4278ms
2025-08-16 21:22:01.503 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:22:01.505 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6352ms
2025-08-16 21:22:01.510 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:22:01.512 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.513 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:22:01.514 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:22:01.516 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:22:01.518 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.7126ms
2025-08-16 21:22:01.519 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:22:01.521 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.9172ms
2025-08-16 21:22:01.525 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:22:01.528 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.529 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:22:01.530 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:22:01.532 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:22:01.533 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.5796ms
2025-08-16 21:22:01.535 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:22:01.536 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.3848ms
2025-08-16 21:22:01.758 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - null null
2025-08-16 21:22:01.760 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:22:01.768 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.772 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.774 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan - 204 null null 15.7714ms
2025-08-16 21:22:01.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Permission/grouped - 204 null null 15.1572ms
2025-08-16 21:22:01.778 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - null null
2025-08-16 21:22:01.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan - null null
2025-08-16 21:22:01.785 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.787 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.789 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:22:01.790 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:22:01.791 +05:30 [INF] Route matched with {action = "GetGroupedPermissions", controller = "Permission"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupedPermissions() on controller xbytechat.api.Features.AccessControl.Controllers.PermissionController (xbytechat.api).
2025-08-16 21:22:01.792 +05:30 [INF] Route matched with {action = "GetPlans", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlans() on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:22:01.797 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT t0."Key", t1."Id", t1."Code", t1."CreatedAt", t1."Description", t1."Group", t1."IsActive", t1."Name"
FROM (
    SELECT t."Key"
    FROM (
        SELECT COALESCE(p."Group", 'Ungrouped') AS "Key"
        FROM "Permissions" AS p
        WHERE p."IsActive"
    ) AS t
    GROUP BY t."Key"
) AS t0
LEFT JOIN (
    SELECT p0."Id", p0."Code", p0."CreatedAt", p0."Description", p0."Group", p0."IsActive", p0."Name", COALESCE(p0."Group", 'Ungrouped') AS "Key"
    FROM "Permissions" AS p0
    WHERE p0."IsActive"
) AS t1 ON t0."Key" = t1."Key"
ORDER BY t0."Key"
2025-08-16 21:22:01.807 +05:30 [INF] Executing OkObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 21:22:01.809 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api) in 15.8183ms
2025-08-16 21:22:01.811 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PermissionController.GetGroupedPermissions (xbytechat.api)'
2025-08-16 21:22:01.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Permission/grouped - 200 null application/json; charset=utf-8 33.8046ms
2025-08-16 21:22:01.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Code", p."Name", p."Description", p."IsActive"
FROM "Plans" AS p
WHERE p."IsActive"
2025-08-16 21:22:01.884 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.DTOs.PlanDto, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:22:01.885 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api) in 88.2029ms
2025-08-16 21:22:01.887 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlans (xbytechat.api)'
2025-08-16 21:22:01.888 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan - 200 null application/json; charset=utf-8 106.2401ms
2025-08-16 21:22:01.893 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:22:01.896 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.897 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 204 null null 4.7534ms
2025-08-16 21:22:01.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - null null
2025-08-16 21:22:01.904 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:01.905 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:22:01.907 +05:30 [INF] Route matched with {action = "GetPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlanPermissions(System.Guid) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:22:01.909 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[xbytechat.api.Features.AccessControl.Models.Permission, xbytechat.api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-16 21:22:01.910 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api) in 1.7485ms
2025-08-16 21:22:01.913 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetPlanPermissions (xbytechat.api)'
2025-08-16 21:22:01.919 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Plan/3e92e204-cda8-4128-94c6-ac1e977e1152/permissions - 200 null application/json; charset=utf-8 17.3966ms
2025-08-16 21:22:42.774 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/product?businessId=11111111-1111-1111-1111-111111111111 - null null
2025-08-16 21:22:42.783 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:42.784 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/product?businessId=11111111-1111-1111-1111-111111111111 - 204 null null 10.0291ms
2025-08-16 21:22:42.794 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/product?businessId=11111111-1111-1111-1111-111111111111 - null null
2025-08-16 21:22:42.797 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:42.798 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.Catalog.Controllers.ProductController.GetAll (xbytechat.api)'
2025-08-16 21:22:42.816 +05:30 [INF] Route matched with {action = "GetAll", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.Guid) on controller xbytechat.api.Features.Catalog.Controllers.ProductController (xbytechat.api).
2025-08-16 21:22:42.825 +05:30 [INF] Authorization failed for the request at filter 'xbytechat.api.Middleware.Attributes.RequirePermissionAttribute'.
2025-08-16 21:22:42.831 +05:30 [INF] Executing ForbidResult with authentication schemes ([]).
2025-08-16 21:22:42.839 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-16 21:22:42.840 +05:30 [INF] Executed action xbytechat.api.Features.Catalog.Controllers.ProductController.GetAll (xbytechat.api) in 22.0149ms
2025-08-16 21:22:42.841 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.Catalog.Controllers.ProductController.GetAll (xbytechat.api)'
2025-08-16 21:22:42.843 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/product?businessId=11111111-1111-1111-1111-111111111111 - 403 0 null 48.9641ms
2025-08-16 21:22:48.725 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/ctamanagement/get-all - null null
2025-08-16 21:22:48.730 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:48.732 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/ctamanagement/get-all - 204 null null 6.1607ms
2025-08-16 21:22:48.736 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/ctamanagement/get-all - null null
2025-08-16 21:22:48.740 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:48.743 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CTAManagement.Controllers.CTAManagementController.GetAll (xbytechat.api)'
2025-08-16 21:22:48.749 +05:30 [INF] Route matched with {action = "GetAll", controller = "CTAManagement"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller xbytechat.api.Features.CTAManagement.Controllers.CTAManagementController (xbytechat.api).
2025-08-16 21:22:48.874 +05:30 [INF] Executed action xbytechat.api.Features.CTAManagement.Controllers.CTAManagementController.GetAll (xbytechat.api) in 123.3473ms
2025-08-16 21:22:48.876 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CTAManagement.Controllers.CTAManagementController.GetAll (xbytechat.api)'
2025-08-16 21:22:48.906 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: ❌ Invalid or missing BusinessId claim.
   at xbytechat.api.Features.CTAManagement.Services.CTAManagementService.GetBusinessIdFromClaims() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CTAManagement\Services\CTAManagementService.cs:line 125
   at xbytechat.api.Features.CTAManagement.Services.CTAManagementService.GetAllAsync() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CTAManagement\Services\CTAManagementService.cs:line 21
   at xbytechat.api.Features.CTAManagement.Controllers.CTAManagementController.GetAll() in D:\xbytechat\xbytechat-api\xbytechat-api\Features\CTAManagement\Controllers\CTAManagementController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 21:22:48.924 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/ctamanagement/get-all - 500 null application/json; charset=utf-8 188.294ms
2025-08-16 21:22:51.359 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-08-16 21:22:51.365 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:51.367 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 204 null null 8.3963ms
2025-08-16 21:22:51.377 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-08-16 21:22:51.387 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:22:51.388 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-08-16 21:22:51.400 +05:30 [INF] Route matched with {action = "GetPaginatedCampaigns", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaginatedCampaigns(xbytechat.api.Shared.PaginatedRequest) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-08-16 21:22:51.442 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:22:51.449 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api) in 46.4889ms
2025-08-16 21:22:51.451 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-08-16 21:22:51.455 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 401 null application/json; charset=utf-8 77.3472ms
2025-08-16 21:23:16.205 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 21:23:16.212 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:23:16.213 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 8.4986ms
2025-08-16 21:23:16.221 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 21:23:16.224 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:23:16.225 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:23:16.226 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 21:23:16.229 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 21:23:16.232 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 21:23:16.236 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 21:23:16.238 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 21:23:16.240 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:23:16.242 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 13.928ms
2025-08-16 21:23:16.244 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 21:23:16.245 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 24.143ms
2025-08-16 21:23:16.250 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:23:16.253 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:23:16.254 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 4.7659ms
2025-08-16 21:23:16.259 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:23:16.263 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:23:16.264 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:23:16.266 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:23:16.269 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:23:16.271 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.2182ms
2025-08-16 21:23:16.272 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:23:16.274 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 14.797ms
2025-08-16 21:23:16.282 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 21:23:16.286 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:23:16.287 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:23:16.288 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 21:23:16.290 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 21:23:16.292 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 2.2439ms
2025-08-16 21:23:16.294 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 21:23:16.295 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 13.1789ms
2025-08-16 21:28:28.856 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/drafts - null null
2025-08-16 21:28:28.864 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:28:28.865 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/cta-flow/drafts - 204 null null 9.7717ms
2025-08-16 21:28:28.874 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/cta-flow/drafts - null null
2025-08-16 21:28:28.879 +05:30 [INF] CORS policy execution successful.
2025-08-16 21:28:28.880 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/cta-flow/drafts - 404 0 null 6.0129ms
2025-08-16 21:28:28.885 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:7113/api/cta-flow/drafts, Response status code: 404
2025-08-16 22:24:10.340 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-16 22:24:10.346 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:24:10.348 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - 204 null null 8.626ms
2025-08-16 22:24:10.355 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-16 22:24:10.358 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:24:10.368 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '16-08-2025 04:53:16 PM', Current time (UTC): '16-08-2025 04:54:10 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-08-16 22:24:10.387 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '16-08-2025 04:53:16 PM', Current time (UTC): '16-08-2025 04:54:10 PM'.
2025-08-16 22:24:10.388 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-16 22:24:10.394 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-08-16 22:24:10.427 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 31.3328ms
2025-08-16 22:24:10.429 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-16 22:24:10.455 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts(String tab, Int32 page, Int32 pageSize) in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\ContactsController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 22:24:10.463 +05:30 [ERR] Response has already started, unable to write error response for path: /api/contacts
2025-08-16 22:24:10.464 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - 401 null application/json 109.3491ms
2025-08-16 22:24:10.682 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags - null null
2025-08-16 22:24:10.685 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-16 22:24:10.692 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-08-16 22:24:10.733 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 39.6547ms
2025-08-16 22:24:10.737 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-16 22:24:10.767 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.TagsController.GetAllTags() in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\TagsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 22:24:10.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags - 500 null application/json; charset=utf-8 93.7313ms
2025-08-16 22:25:55.577 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - null null
2025-08-16 22:25:55.584 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:55.585 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/auth/login - 204 null null 7.9562ms
2025-08-16 22:25:55.593 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:7113/api/auth/login - application/json 53
2025-08-16 22:25:55.595 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:55.596 +05:30 [INF] Executing endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 22:25:55.598 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(xbytechat.api.AuthModule.DTOs.UserLoginDto) on controller xbytechat.api.AuthModule.Controllers.AuthController (xbytechat.api).
2025-08-16 22:25:55.601 +05:30 [INF] 🔑 Login attempt for email: admin@xbytechat.com
2025-08-16 22:25:55.686 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__dto_Email_0='admin@xbytechat.com', @__hashedPassword_1='JAvlGPq9JyTdtvBO6x2llnRI1+gxwIyPqCKAn3THIKk='], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."BusinessId", u."CreatedAt", u."DeletedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiry", u."RoleId", u."Status", r."Id", r."CreatedAt", r."Description", r."IsActive", r."IsSystemDefined", r."Name"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."RoleId" = r."Id"
WHERE u."Email" = @__dto_Email_0 AND u."PasswordHash" = @__hashedPassword_1 AND NOT (u."IsDeleted")
LIMIT 1
2025-08-16 22:25:55.689 +05:30 [INF] ✅ Token generated for: admin@xbytechat.com
2025-08-16 22:25:55.691 +05:30 [INF] ✅ Login successful for admin@xbytechat.com, Role: superadmin, PlanId: null
2025-08-16 22:25:55.692 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 22:25:55.694 +05:30 [INF] Executed action xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api) in 94.0312ms
2025-08-16 22:25:55.695 +05:30 [INF] Executed endpoint 'xbytechat.api.AuthModule.Controllers.AuthController.Login (xbytechat.api)'
2025-08-16 22:25:55.697 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:7113/api/auth/login - 200 null application/json; charset=utf-8 104.1313ms
2025-08-16 22:25:55.701 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 22:25:55.703 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:55.704 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/plan/me/permissions - 204 null null 3.6367ms
2025-08-16 22:25:55.708 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 22:25:55.711 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:55.712 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 22:25:55.713 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 22:25:55.715 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 22:25:55.716 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.5476ms
2025-08-16 22:25:55.717 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 22:25:55.719 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 10.6396ms
2025-08-16 22:25:55.724 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - null null
2025-08-16 22:25:55.726 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:55.727 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 22:25:55.728 +05:30 [INF] Route matched with {action = "GetMyPlanPermissions", controller = "Plan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlanPermissions(System.Threading.CancellationToken) on controller xbytechat.api.Features.AccessControl.Controllers.PlanController (xbytechat.api).
2025-08-16 22:25:55.731 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType21`2[[System.Nullable`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 22:25:55.732 +05:30 [INF] Executed action xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api) in 1.8249ms
2025-08-16 22:25:55.734 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.AccessControl.Controllers.PlanController.GetMyPlanPermissions (xbytechat.api)'
2025-08-16 22:25:55.735 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/plan/me/permissions - 200 null application/json; charset=utf-8 11.6311ms
2025-08-16 22:25:56.027 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-16 22:25:56.030 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:56.030 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/contacts?tab=all&search= - 204 null null 3.7077ms
2025-08-16 22:25:56.034 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - null null
2025-08-16 22:25:56.037 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:25:56.038 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-16 22:25:56.039 +05:30 [INF] Route matched with {action = "GetAllContacts", controller = "Contacts"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllContacts(System.String, Int32, Int32) on controller xbytechat.api.CRM.Controllers.ContactsController (xbytechat.api).
2025-08-16 22:25:56.090 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api) in 49.7293ms
2025-08-16 22:25:56.092 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts (xbytechat.api)'
2025-08-16 22:25:56.122 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.ContactsController.GetAllContacts(String tab, Int32 page, Int32 pageSize) in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\ContactsController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 22:25:56.132 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/contacts?tab=all&search= - 500 null application/json; charset=utf-8 98.0466ms
2025-08-16 22:25:56.316 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags - null null
2025-08-16 22:25:56.319 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-16 22:25:56.320 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-08-16 22:25:56.357 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 35.073ms
2025-08-16 22:25:56.359 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-16 22:25:56.392 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.TagsController.GetAllTags() in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\TagsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 22:25:56.399 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags - 500 null application/json; charset=utf-8 83.328ms
2025-08-16 22:26:03.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/tags - null null
2025-08-16 22:26:03.541 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-16 22:26:03.543 +05:30 [INF] Route matched with {action = "GetAllTags", controller = "Tags"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllTags() on controller xbytechat.api.CRM.Controllers.TagsController (xbytechat.api).
2025-08-16 22:26:03.575 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api) in 30.5098ms
2025-08-16 22:26:03.577 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.TagsController.GetAllTags (xbytechat.api)'
2025-08-16 22:26:03.610 +05:30 [ERR] ❌ An unhandled exception occurred
System.UnauthorizedAccessException: Invalid or missing businessId in token.
   at xbytechat.api.Shared.ClaimsBusinessDetails.GetBusinessId(ClaimsPrincipal user) in D:\xbytechat\xbytechat-api\xbytechat-api\Shared\ClaimsBusinessDetails.cs:line 12
   at xbytechat.api.CRM.Controllers.TagsController.GetAllTags() in D:\xbytechat\xbytechat-api\xbytechat-api\CRM\Controllers\TagsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_9>d.MoveNext() in D:\xbytechat\xbytechat-api\xbytechat-api\Program.cs:line 370
--- End of stack trace from previous location ---
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GlobalExceptionMiddleware.Invoke(HttpContext context) in D:\xbytechat\xbytechat-api\xbytechat-api\Middlewares\GlobalExceptionMiddleware.cs:line 32
2025-08-16 22:26:03.618 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/tags - 500 null application/json; charset=utf-8 79.6769ms
2025-08-16 22:26:08.257 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/reminders - null null
2025-08-16 22:26:08.260 +05:30 [INF] Executing endpoint 'xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api)'
2025-08-16 22:26:08.282 +05:30 [INF] Route matched with {action = "GetAllReminders", controller = "Reminders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllReminders() on controller xbytechat.api.CRM.Controllers.RemindersController (xbytechat.api).
2025-08-16 22:26:08.309 +05:30 [INF] Executing ObjectResult, writing value of type 'xbytechat.api.Helpers.ResponseResult'.
2025-08-16 22:26:08.311 +05:30 [INF] Executed action xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api) in 26.9956ms
2025-08-16 22:26:08.313 +05:30 [INF] Executed endpoint 'xbytechat.api.CRM.Controllers.RemindersController.GetAllReminders (xbytechat.api)'
2025-08-16 22:26:08.314 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/reminders - 500 null application/json; charset=utf-8 56.4806ms
2025-08-16 22:26:14.550 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-08-16 22:26:14.554 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:26:14.556 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 204 null null 5.604ms
2025-08-16 22:26:14.562 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - null null
2025-08-16 22:26:14.566 +05:30 [INF] CORS policy execution successful.
2025-08-16 22:26:14.567 +05:30 [INF] Executing endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-08-16 22:26:14.569 +05:30 [INF] Route matched with {action = "GetPaginatedCampaigns", controller = "Campaign"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPaginatedCampaigns(xbytechat.api.Shared.PaginatedRequest) on controller xbytechat.api.Features.CampaignModule.Controllers.CampaignController (xbytechat.api).
2025-08-16 22:26:14.578 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type '<>f__AnonymousType10`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-16 22:26:14.584 +05:30 [INF] Executed action xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api) in 11.6072ms
2025-08-16 22:26:14.585 +05:30 [INF] Executed endpoint 'xbytechat.api.Features.CampaignModule.Controllers.CampaignController.GetPaginatedCampaigns (xbytechat.api)'
2025-08-16 22:26:14.587 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:7113/api/Campaign/paginated?page=1&pageSize=10&status= - 401 null application/json; charset=utf-8 25.3417ms
